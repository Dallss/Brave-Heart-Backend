2025-07-07 04:33:41.228 +08:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE braveheartdb WITH (FORCE);
2025-07-07 04:33:47.037 +08:00 [ERR] An error occurred using the connection to database 'braveheartdb' on server 'tcp://localhost:5432'.
2025-07-07 04:34:43.843 +08:00 [ERR] An error occurred using the connection to database 'braveheartdb' on server 'tcp://localhost:5432'.
2025-07-07 04:34:44.341 +08:00 [INF] Executed DbCommand (259ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE braveheartdb;
2025-07-07 04:34:44.414 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-07 04:34:44.420 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-07 04:34:44.423 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-07 04:34:44.425 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-07 04:34:44.434 +08:00 [INF] Applying migration '20250620073447_InitialCreate'.
2025-07-07 04:34:44.480 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApplicationUser" (
    "Id" text NOT NULL,
    "UserName" text,
    "NormalizedUserName" text,
    "Email" text,
    "NormalizedEmail" text,
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_ApplicationUser" PRIMARY KEY ("Id")
);
2025-07-07 04:34:44.487 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductTypes" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    CONSTRAINT "PK_ProductTypes" PRIMARY KEY ("Id")
);
2025-07-07 04:34:44.494 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Carts" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_Carts" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Carts_ApplicationUser_UserId" FOREIGN KEY ("UserId") REFERENCES "ApplicationUser" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.497 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CheckoutDetails" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "PhoneNumber" text NOT NULL,
    "AddressLine1" text NOT NULL,
    "AddressLine2" text NOT NULL,
    "City" text NOT NULL,
    "State" text NOT NULL,
    "PostalCode" text NOT NULL,
    "Country" text NOT NULL,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_CheckoutDetails" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CheckoutDetails_ApplicationUser_UserId" FOREIGN KEY ("UserId") REFERENCES "ApplicationUser" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.501 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductAttributes" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "DataType" text NOT NULL,
    "ProductTypeId" integer NOT NULL,
    CONSTRAINT "PK_ProductAttributes" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductAttributes_ProductTypes_ProductTypeId" FOREIGN KEY ("ProductTypeId") REFERENCES "ProductTypes" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.505 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Price" numeric NOT NULL,
    "Stock" integer NOT NULL,
    "ProductTypeId" integer NOT NULL,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Products_ProductTypes_ProductTypeId" FOREIGN KEY ("ProductTypeId") REFERENCES "ProductTypes" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.508 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CartItems" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "CartId" integer NOT NULL,
    "ProductId" integer NOT NULL,
    "Quantity" integer NOT NULL,
    CONSTRAINT "PK_CartItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CartItems_Carts_CartId" FOREIGN KEY ("CartId") REFERENCES "Carts" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CartItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.512 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductAttributeValues" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Value" text NOT NULL,
    "ProductId" integer NOT NULL,
    "ProductAttributeId" integer NOT NULL,
    CONSTRAINT "PK_ProductAttributeValues" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductAttributeValues_ProductAttributes_ProductAttributeId" FOREIGN KEY ("ProductAttributeId") REFERENCES "ProductAttributes" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ProductAttributeValues_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.514 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_CartId" ON "CartItems" ("CartId");
2025-07-07 04:34:44.515 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_ProductId" ON "CartItems" ("ProductId");
2025-07-07 04:34:44.516 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Carts_UserId" ON "Carts" ("UserId");
2025-07-07 04:34:44.517 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CheckoutDetails_UserId" ON "CheckoutDetails" ("UserId");
2025-07-07 04:34:44.519 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributes_ProductTypeId" ON "ProductAttributes" ("ProductTypeId");
2025-07-07 04:34:44.520 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributeValues_ProductAttributeId" ON "ProductAttributeValues" ("ProductAttributeId");
2025-07-07 04:34:44.521 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributeValues_ProductId" ON "ProductAttributeValues" ("ProductId");
2025-07-07 04:34:44.522 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Products_ProductTypeId" ON "Products" ("ProductTypeId");
2025-07-07 04:34:44.523 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250620073447_InitialCreate', '9.0.6');
2025-07-07 04:34:44.523 +08:00 [INF] Applying migration '20250620164701_AddIdentityTables'.
2025-07-07 04:34:44.553 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Carts" DROP CONSTRAINT "FK_Carts_ApplicationUser_UserId";
2025-07-07 04:34:44.553 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CheckoutDetails" DROP CONSTRAINT "FK_CheckoutDetails_ApplicationUser_UserId";
2025-07-07 04:34:44.554 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ApplicationUser" DROP CONSTRAINT "PK_ApplicationUser";
2025-07-07 04:34:44.555 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ApplicationUser" RENAME TO "AspNetUsers";
2025-07-07 04:34:44.559 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ALTER COLUMN "UserName" TYPE character varying(256);
2025-07-07 04:34:44.564 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ALTER COLUMN "NormalizedUserName" TYPE character varying(256);
2025-07-07 04:34:44.567 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ALTER COLUMN "NormalizedEmail" TYPE character varying(256);
2025-07-07 04:34:44.569 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ALTER COLUMN "Email" TYPE character varying(256);
2025-07-07 04:34:44.570 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id");
2025-07-07 04:34:44.574 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-07-07 04:34:44.577 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.581 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" character varying(128) NOT NULL,
    "ProviderKey" character varying(128) NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.584 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" character varying(128) NOT NULL,
    "Name" character varying(128) NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.588 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.593 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.595 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-07-07 04:34:44.597 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-07-07 04:34:44.598 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-07-07 04:34:44.599 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-07-07 04:34:44.601 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-07-07 04:34:44.602 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-07-07 04:34:44.603 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-07-07 04:34:44.607 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Carts" ADD CONSTRAINT "FK_Carts_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-07-07 04:34:44.608 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CheckoutDetails" ADD CONSTRAINT "FK_CheckoutDetails_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-07-07 04:34:44.608 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250620164701_AddIdentityTables', '9.0.6');
2025-07-07 04:34:44.609 +08:00 [INF] Applying migration '20250620172930_AddUserTypeToApplicationUser'.
2025-07-07 04:34:44.623 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "UserType" text NOT NULL DEFAULT '';
2025-07-07 04:34:44.624 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250620172930_AddUserTypeToApplicationUser', '9.0.6');
2025-07-07 04:34:44.624 +08:00 [INF] Applying migration '20250621123833_integratesCartEntityIntoUserAsField'.
2025-07-07 04:34:44.635 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CartItems" DROP CONSTRAINT "FK_CartItems_Carts_CartId";
2025-07-07 04:34:44.636 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Carts";
2025-07-07 04:34:44.637 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_CartItems_CartId";
2025-07-07 04:34:44.637 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CartItems" DROP COLUMN "CartId";
2025-07-07 04:34:44.638 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CartItems" ADD "UserId" text NOT NULL DEFAULT '';
2025-07-07 04:34:44.639 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_UserId" ON "CartItems" ("UserId");
2025-07-07 04:34:44.641 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CartItems" ADD CONSTRAINT "FK_CartItems_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-07-07 04:34:44.641 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250621123833_integratesCartEntityIntoUserAsField', '9.0.6');
2025-07-07 04:34:44.641 +08:00 [INF] Applying migration '20250621183718_productRequireType'.
2025-07-07 04:34:44.651 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250621183718_productRequireType', '9.0.6');
2025-07-07 04:34:44.652 +08:00 [INF] Applying migration '20250621184902_productModelCleanup'.
2025-07-07 04:34:44.660 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250621184902_productModelCleanup', '9.0.6');
2025-07-07 04:34:44.660 +08:00 [INF] Applying migration '20250621190140_productModelCleanup2'.
2025-07-07 04:34:44.670 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250621190140_productModelCleanup2', '9.0.6');
2025-07-07 04:34:44.670 +08:00 [INF] Applying migration '20250623161500_removesUserTypeInUserModel'.
2025-07-07 04:34:44.679 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" DROP COLUMN "UserType";
2025-07-07 04:34:44.680 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250623161500_removesUserTypeInUserModel', '9.0.6');
2025-07-07 04:34:44.680 +08:00 [INF] Applying migration '20250623213424_addsIsRequireedForAttributes'.
2025-07-07 04:34:44.690 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ProductAttributes" ADD "IsRequired" boolean NOT NULL DEFAULT FALSE;
2025-07-07 04:34:44.690 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250623213424_addsIsRequireedForAttributes', '9.0.6');
2025-07-07 04:34:44.691 +08:00 [INF] Applying migration '20250626175308_AddProductImageUrl'.
2025-07-07 04:34:44.700 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Products" ADD "ImageUrl" text;
2025-07-07 04:34:44.700 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250626175308_AddProductImageUrl', '9.0.6');
2025-07-07 04:34:44.701 +08:00 [INF] Applying migration '20250628181845_AddProductName'.
2025-07-07 04:34:44.710 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Products" ADD "Name" character varying(200) NOT NULL DEFAULT '';
2025-07-07 04:34:44.711 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250628181845_AddProductName', '9.0.6');
2025-07-07 04:34:44.711 +08:00 [INF] Applying migration '20250628193324_SeedData'.
2025-07-07 04:34:44.739 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductTypes" ("Id", "Name")
VALUES (1, 'Electronics');
INSERT INTO "ProductTypes" ("Id", "Name")
VALUES (2, 'Fire Safety Equipment');
INSERT INTO "ProductTypes" ("Id", "Name")
VALUES (3, 'Clothing');
2025-07-07 04:34:44.742 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (1, 'string', TRUE, 'Color', 1);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (2, 'string', TRUE, 'Storage', 1);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (3, 'string', TRUE, 'Brand', 1);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (4, 'string', TRUE, 'ExtinguisherClass', 2);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (5, 'string', TRUE, 'Capacity', 2);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (6, 'string', FALSE, 'Material', 2);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (7, 'string', TRUE, 'Size', 3);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (8, 'string', TRUE, 'Material', 3);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (9, 'string', TRUE, 'Color', 3);
2025-07-07 04:34:44.745 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (1, 'https://example.com/iphone15.jpg', 'iPhone 15', 999.0, 1, 50);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (2, 'https://example.com/galaxy-s24.jpg', 'Samsung Galaxy S24', 899.0, 1, 30);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (3, 'https://example.com/macbook-pro.jpg', 'MacBook Pro', 1999.0, 1, 20);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (4, 'https://example.com/abc-extinguisher.jpg', 'ABC Fire Extinguisher', 89.99, 2, 100);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (5, 'https://example.com/co2-extinguisher.jpg', 'CO2 Fire Extinguisher', 149.99, 2, 75);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (6, 'https://example.com/fire-blanket.jpg', 'Fire Blanket', 29.99, 2, 200);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (7, 'https://example.com/firefighter-jacket.jpg', 'Firefighter Jacket', 299.99, 3, 25);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (8, 'https://example.com/safety-helmet.jpg', 'Safety Helmet', 89.99, 3, 60);
2025-07-07 04:34:44.750 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (1, 1, 1, 'Black');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (2, 1, 1, 'White');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (3, 2, 1, '128GB');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (4, 2, 1, '256GB');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (5, 3, 1, 'Apple');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (6, 1, 2, 'Black');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (7, 1, 2, 'Blue');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (8, 2, 2, '128GB');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (9, 2, 2, '512GB');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (10, 3, 2, 'Samsung');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (11, 1, 3, 'Space Gray');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (12, 1, 3, 'Silver');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (13, 2, 3, '512GB');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (14, 2, 3, '1TB');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (15, 3, 3, 'Apple');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (16, 4, 4, 'ABC');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (17, 5, 4, '5 lbs');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (18, 5, 4, '10 lbs');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (19, 6, 4, 'Steel');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (20, 4, 5, 'CO2');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (21, 5, 5, '10 lbs');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (22, 6, 5, 'Aluminum');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (23, 4, 6, 'N/A');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (24, 5, 6, '4ft x 6ft');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (25, 6, 6, 'Fiberglass');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (26, 7, 7, 'Large');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (27, 7, 7, 'XL');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (28, 8, 7, 'Nomex');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (29, 9, 7, 'Yellow');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (30, 9, 7, 'Orange');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (31, 7, 8, 'Medium');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (32, 7, 8, 'Large');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (33, 8, 8, 'ABS Plastic');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (34, 9, 8, 'White');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (35, 9, 8, 'Yellow');
2025-07-07 04:34:44.753 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"ProductTypes"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "ProductTypes") + 1,
        nextval(pg_get_serial_sequence('"ProductTypes"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"ProductAttributes"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "ProductAttributes") + 1,
        nextval(pg_get_serial_sequence('"ProductAttributes"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Products"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Products") + 1,
        nextval(pg_get_serial_sequence('"Products"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"ProductAttributeValues"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "ProductAttributeValues") + 1,
        nextval(pg_get_serial_sequence('"ProductAttributeValues"', 'Id'))),
    false);
2025-07-07 04:34:44.754 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250628193324_SeedData', '9.0.6');
2025-07-07 04:34:44.754 +08:00 [INF] Applying migration '20250628211215_AddRefreshTokenFields'.
2025-07-07 04:34:44.765 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "RefreshToken" text;
2025-07-07 04:34:44.766 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "RefreshTokenExpiryTime" timestamp with time zone;
2025-07-07 04:34:44.767 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250628211215_AddRefreshTokenFields', '9.0.6');
2025-07-07 04:34:44.767 +08:00 [INF] Applying migration '20250706203435_SeedFireExtinguishers'.
2025-07-07 04:34:44.791 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 13;
2025-07-07 04:34:44.792 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 14;
2025-07-07 04:34:44.792 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 15;
2025-07-07 04:34:44.792 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 16;
2025-07-07 04:34:44.793 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 17;
2025-07-07 04:34:44.793 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 18;
2025-07-07 04:34:44.794 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 19;
2025-07-07 04:34:44.794 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 20;
2025-07-07 04:34:44.794 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 21;
2025-07-07 04:34:44.795 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 22;
2025-07-07 04:34:44.795 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 23;
2025-07-07 04:34:44.795 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 24;
2025-07-07 04:34:44.795 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 25;
2025-07-07 04:34:44.796 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 26;
2025-07-07 04:34:44.797 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 27;
2025-07-07 04:34:44.797 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 28;
2025-07-07 04:34:44.798 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 29;
2025-07-07 04:34:44.798 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 30;
2025-07-07 04:34:44.798 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 31;
2025-07-07 04:34:44.799 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 32;
2025-07-07 04:34:44.799 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 33;
2025-07-07 04:34:44.799 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 34;
2025-07-07 04:34:44.800 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 35;
2025-07-07 04:34:44.800 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributes"
WHERE "Id" = 4;
2025-07-07 04:34:44.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributes"
WHERE "Id" = 5;
2025-07-07 04:34:44.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributes"
WHERE "Id" = 6;
2025-07-07 04:34:44.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributes"
WHERE "Id" = 7;
2025-07-07 04:34:44.802 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributes"
WHERE "Id" = 8;
2025-07-07 04:34:44.802 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributes"
WHERE "Id" = 9;
2025-07-07 04:34:44.802 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Products"
WHERE "Id" = 5;
2025-07-07 04:34:44.803 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Products"
WHERE "Id" = 6;
2025-07-07 04:34:44.803 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Products"
WHERE "Id" = 7;
2025-07-07 04:34:44.803 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Products"
WHERE "Id" = 8;
2025-07-07 04:34:44.804 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductTypes"
WHERE "Id" = 2;
2025-07-07 04:34:44.804 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductTypes"
WHERE "Id" = 3;
2025-07-07 04:34:44.805 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "Value" = 'White band on a red body'
WHERE "Id" = 1;
2025-07-07 04:34:44.805 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 2, "Value" = 'Multipurpose dry chemical'
WHERE "Id" = 2;
2025-07-07 04:34:44.811 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 3, "Value" = 'Effective on Class A (solids like wood/paper), B (flammable liquids/gases), and C (electrical) fires'
WHERE "Id" = 3;
2025-07-07 04:34:44.811 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 1, "ProductId" = 2, "Value" = 'Black band on a red body'
WHERE "Id" = 4;
2025-07-07 04:34:44.812 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 2, "ProductId" = 2, "Value" = 'Carbon dioxide gas'
WHERE "Id" = 5;
2025-07-07 04:34:44.812 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 3, "Value" = 'Ideal for Class B (flammable liquids) and Class C (electrical) fires—leaves no residue, safe for equipment'
WHERE "Id" = 6;
2025-07-07 04:34:44.813 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductId" = 3, "Value" = 'Blue band on a red body'
WHERE "Id" = 7;
2025-07-07 04:34:44.814 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductId" = 3, "Value" = 'Aqueous film-forming foam'
WHERE "Id" = 8;
2025-07-07 04:34:44.815 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 3, "ProductId" = 3, "Value" = 'Suitable for Class A (solids) and B (liquids) fires—forms a foam blanket to suppress vapors'
WHERE "Id" = 9;
2025-07-07 04:34:44.839 +08:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 1, "ProductId" = 4, "Value" = 'White band on a light green body'
WHERE "Id" = 10;
2025-07-07 04:36:05.608 +08:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE braveheartdb WITH (FORCE);
2025-07-07 04:36:12.573 +08:00 [ERR] An error occurred using the connection to database 'braveheartdb' on server 'tcp://localhost:5432'.
2025-07-07 04:36:12.906 +08:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE braveheartdb;
2025-07-07 04:36:13.036 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-07 04:36:13.043 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-07 04:36:13.044 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-07 04:36:13.047 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-07 04:36:13.056 +08:00 [INF] Applying migration '20250706203558_InitialClean'.
2025-07-07 04:36:13.116 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-07-07 04:36:13.119 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" text NOT NULL,
    "RefreshToken" text,
    "RefreshTokenExpiryTime" timestamp with time zone,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2025-07-07 04:36:13.123 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductTypes" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    CONSTRAINT "PK_ProductTypes" PRIMARY KEY ("Id")
);
2025-07-07 04:36:13.128 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.133 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.136 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" character varying(128) NOT NULL,
    "ProviderKey" character varying(128) NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.139 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.142 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" character varying(128) NOT NULL,
    "Name" character varying(128) NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.145 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CheckoutDetails" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "PhoneNumber" text NOT NULL,
    "AddressLine1" text NOT NULL,
    "AddressLine2" text NOT NULL,
    "City" text NOT NULL,
    "State" text NOT NULL,
    "PostalCode" text NOT NULL,
    "Country" text NOT NULL,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_CheckoutDetails" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CheckoutDetails_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.148 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductAttributes" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "DataType" text NOT NULL,
    "IsRequired" boolean NOT NULL,
    "ProductTypeId" integer NOT NULL,
    CONSTRAINT "PK_ProductAttributes" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductAttributes_ProductTypes_ProductTypeId" FOREIGN KEY ("ProductTypeId") REFERENCES "ProductTypes" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.151 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(200) NOT NULL,
    "Price" numeric NOT NULL,
    "Stock" integer NOT NULL,
    "ProductTypeId" integer NOT NULL,
    "ImageUrl" text,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Products_ProductTypes_ProductTypeId" FOREIGN KEY ("ProductTypeId") REFERENCES "ProductTypes" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.155 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CartItems" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ProductId" integer NOT NULL,
    "Quantity" integer NOT NULL,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_CartItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CartItems_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CartItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.159 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductAttributeValues" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Value" text NOT NULL,
    "ProductId" integer NOT NULL,
    "ProductAttributeId" integer NOT NULL,
    CONSTRAINT "PK_ProductAttributeValues" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductAttributeValues_ProductAttributes_ProductAttributeId" FOREIGN KEY ("ProductAttributeId") REFERENCES "ProductAttributes" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ProductAttributeValues_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.160 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductTypes" ("Id", "Name")
VALUES (1, 'Fire Extinguisher');
2025-07-07 04:36:13.164 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (1, 'string', TRUE, 'Color band', 1);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (2, 'string', TRUE, 'Extinguishing agent', 1);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (3, 'string', TRUE, 'Use', 1);
2025-07-07 04:36:13.165 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (1, 'https://res.cloudinary.com/braveheartimages/image/upload/v1751823422/dry-chemical_t0rp88.png', 'Dry Chemical (ABC)', 0.0, 1, 0);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (2, 'https://res.cloudinary.com/braveheartimages/image/upload/v1751823357/c02_zlry7d.png', 'Carbon Dioxide (CO₂)', 0.0, 1, 0);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (3, 'https://res.cloudinary.com/braveheartimages/image/upload/v1751823434/foam_ixdviw.png', 'Foam', 0.0, 1, 0);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (4, 'https://res.cloudinary.com/braveheartimages/image/upload/v1751823365/halon_nowrpt.png', 'Halon Substitute', 0.0, 1, 0);
2025-07-07 04:36:13.167 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (1, 1, 1, 'White band on a red body');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (2, 2, 1, 'Multipurpose dry chemical');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (3, 3, 1, 'Effective on Class A (solids like wood/paper), B (flammable liquids/gases), and C (electrical) fires');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (4, 1, 2, 'Black band on a red body');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (5, 2, 2, 'Carbon dioxide gas');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (6, 3, 2, 'Ideal for Class B (flammable liquids) and Class C (electrical) fires—leaves no residue, safe for equipment');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (7, 1, 3, 'Blue band on a red body');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (8, 2, 3, 'Aqueous film-forming foam');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (9, 3, 3, 'Suitable for Class A (solids) and B (liquids) fires—forms a foam blanket to suppress vapors');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (10, 1, 4, 'White band on a light green body');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (11, 2, 4, 'Halon-replacement gases (such as FM-200 or similar clean agents)');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (12, 3, 4, 'Designed for Class A, B, and C fires—non-corrosive and leaves minimal residue');
2025-07-07 04:36:13.168 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-07-07 04:36:13.169 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-07-07 04:36:13.170 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-07-07 04:36:13.170 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-07-07 04:36:13.171 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-07-07 04:36:13.172 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-07-07 04:36:13.173 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-07-07 04:36:13.174 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_ProductId" ON "CartItems" ("ProductId");
2025-07-07 04:36:13.175 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_UserId" ON "CartItems" ("UserId");
2025-07-07 04:36:13.176 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CheckoutDetails_UserId" ON "CheckoutDetails" ("UserId");
2025-07-07 04:36:13.176 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributes_ProductTypeId" ON "ProductAttributes" ("ProductTypeId");
2025-07-07 04:36:13.177 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributeValues_ProductAttributeId" ON "ProductAttributeValues" ("ProductAttributeId");
2025-07-07 04:36:13.178 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributeValues_ProductId" ON "ProductAttributeValues" ("ProductId");
2025-07-07 04:36:13.179 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Products_ProductTypeId" ON "Products" ("ProductTypeId");
2025-07-07 04:36:13.183 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"ProductTypes"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "ProductTypes") + 1,
        nextval(pg_get_serial_sequence('"ProductTypes"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"ProductAttributes"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "ProductAttributes") + 1,
        nextval(pg_get_serial_sequence('"ProductAttributes"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Products"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Products") + 1,
        nextval(pg_get_serial_sequence('"Products"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"ProductAttributeValues"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "ProductAttributeValues") + 1,
        nextval(pg_get_serial_sequence('"ProductAttributeValues"', 'Id'))),
    false);
2025-07-07 04:36:13.183 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250706203558_InitialClean', '9.0.6');
2025-07-07 04:44:40.329 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-07 04:44:41.482 +08:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-07 04:44:41.503 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-07 04:44:41.587 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-07-07 04:44:41.602 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 04:44:41.675 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 04:44:41.721 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-07-07 04:44:41.728 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 04:44:41.752 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-07 04:44:41.754 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 04:44:41.762 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 04:44:41.779 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p18='?', @p2='?' (DbType = Int32), @p3='?', @p19='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "SecurityStamp" = @p15, "TwoFactorEnabled" = @p16, "UserName" = @p17
WHERE "Id" = @p18 AND "ConcurrencyStamp" = @p19;
2025-07-07 04:44:41.833 +08:00 [INF] Now listening on: http://[::]:8080
2025-07-07 04:44:41.834 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 04:44:41.834 +08:00 [INF] Hosting environment: Development
2025-07-07 04:44:41.835 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-07-07 04:48:28.595 +08:00 [INF] Application is shutting down...
2025-07-07 04:48:35.379 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-07 04:48:36.396 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-07 04:48:36.448 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 04:48:36.520 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 04:48:36.619 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-07-07 04:48:36.631 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 04:48:36.650 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-07 04:48:36.654 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 04:48:36.661 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 04:48:36.678 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p18='?', @p2='?' (DbType = Int32), @p3='?', @p19='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "SecurityStamp" = @p15, "TwoFactorEnabled" = @p16, "UserName" = @p17
WHERE "Id" = @p18 AND "ConcurrencyStamp" = @p19;
2025-07-07 04:48:36.725 +08:00 [INF] Now listening on: http://[::]:8080
2025-07-07 04:48:36.726 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 04:48:36.727 +08:00 [INF] Hosting environment: Development
2025-07-07 04:48:36.727 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-07-07 04:49:39.517 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger - null null
2025-07-07 04:49:39.552 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger - 301 0 null 35.8493ms
2025-07-07 04:49:39.564 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2025-07-07 04:49:39.607 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 43.1286ms
2025-07-07 04:49:39.652 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui.css - null null
2025-07-07 04:49:39.655 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.js - null null
2025-07-07 04:49:39.655 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui-standalone-preset.js - null null
2025-07-07 04:49:39.655 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.css - null null
2025-07-07 04:49:39.655 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui-bundle.js - null null
2025-07-07 04:49:39.657 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.js - 200 null application/javascript;charset=utf-8 2.0254ms
2025-07-07 04:49:39.667 +08:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-07-07 04:49:39.667 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.css - 200 202 text/css 12.3355ms
2025-07-07 04:49:39.672 +08:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-07-07 04:49:39.673 +08:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-07-07 04:49:39.676 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 20.9292ms
2025-07-07 04:49:39.676 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui.css - 200 154949 text/css 23.2717ms
2025-07-07 04:49:39.680 +08:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-07-07 04:49:39.680 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui-bundle.js - 200 1485241 text/javascript 25.5146ms
2025-07-07 04:49:39.876 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2025-07-07 04:49:39.893 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/favicon-32x32.png - null null
2025-07-07 04:49:39.893 +08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-07-07 04:49:39.893 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/favicon-32x32.png - 200 628 image/png 0.5142ms
2025-07-07 04:49:39.952 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.624ms
2025-07-07 04:49:49.752 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product - null null
2025-07-07 04:49:49.759 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-07 04:49:49.784 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-07-07 04:49:49.793 +08:00 [INF] Route matched with {action = "GetAll", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 04:49:49.894 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 04:49:49.914 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id", p0."Name", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "Products" AS p
INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p0."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 04:49:49.957 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.Product, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.Product.ProductResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 04:49:49.976 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend) in 181.533ms
2025-07-07 04:49:49.977 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-07-07 04:49:49.979 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product - 200 null application/json; charset=utf-8 227.3082ms
2025-07-07 04:55:14.091 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - null null
2025-07-07 04:55:14.101 +08:00 [INF] CORS policy execution successful.
2025-07-07 04:55:14.103 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - 204 null null 13.0608ms
2025-07-07 04:55:14.108 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/user/login - application/json 69
2025-07-07 04:55:14.111 +08:00 [INF] CORS policy execution successful.
2025-07-07 04:55:14.160 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30/6/2025 11:27:50 am', Current time (UTC): '6/7/2025 8:55:14 pm'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-07 04:55:14.174 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30/6/2025 11:27:50 am', Current time (UTC): '6/7/2025 8:55:14 pm'.
2025-07-07 04:55:14.175 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 04:55:14.191 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-07-07 04:55:14.267 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 04:55:14.357 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-07 04:55:14.371 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 04:55:14.384 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "RefreshToken" = @p11, "RefreshTokenExpiryTime" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-07-07 04:55:14.387 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.User.TokenResponseDTO'.
2025-07-07 04:55:14.393 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 201.6804ms
2025-07-07 04:55:14.393 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 04:55:14.393 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/user/login - 200 null application/json; charset=utf-8 285.154ms
2025-07-07 04:55:38.358 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 04:55:38.363 +08:00 [INF] CORS policy execution successful.
2025-07-07 04:55:38.365 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 7.2306ms
2025-07-07 04:55:38.368 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 04:55:38.369 +08:00 [INF] CORS policy execution successful.
2025-07-07 04:55:38.390 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 04:55:38.399 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 04:55:38.412 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 04:55:38.436 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 04:55:38.443 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 04:55:38.446 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 47.3475ms
2025-07-07 04:55:38.447 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 04:55:38.447 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 79.213ms
2025-07-07 05:07:14.803 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - null null
2025-07-07 05:07:14.807 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:07:14.809 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - 204 null null 6.0335ms
2025-07-07 05:07:14.812 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/user/login - application/json 69
2025-07-07 05:07:14.812 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:07:14.815 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:07:14.816 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-07-07 05:07:14.840 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 05:07:14.918 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-07 05:07:14.920 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 05:07:14.926 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "RefreshToken" = @p11, "RefreshTokenExpiryTime" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-07-07 05:07:14.926 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.User.TokenResponseDTO'.
2025-07-07 05:07:14.927 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 110.7819ms
2025-07-07 05:07:14.927 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:07:14.927 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/user/login - 200 null application/json; charset=utf-8 114.783ms
2025-07-07 05:08:52.579 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - null null
2025-07-07 05:08:52.581 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:08:52.583 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - 204 null null 3.7947ms
2025-07-07 05:08:52.586 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/user/login - application/json 69
2025-07-07 05:08:52.587 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:08:52.590 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:08:52.593 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-07-07 05:08:52.699 +08:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 05:08:52.775 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-07 05:08:52.777 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 05:08:52.799 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "RefreshToken" = @p11, "RefreshTokenExpiryTime" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-07-07 05:08:52.800 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.User.TokenResponseDTO'.
2025-07-07 05:08:52.800 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 206.5064ms
2025-07-07 05:08:52.800 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:08:52.800 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/user/login - 200 null application/json; charset=utf-8 215.0044ms
2025-07-07 05:11:15.679 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - null null
2025-07-07 05:11:15.681 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:11:15.681 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - 204 null null 2.3929ms
2025-07-07 05:11:15.683 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/user/login - application/json 69
2025-07-07 05:11:15.684 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:11:15.687 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:11:15.690 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-07-07 05:11:15.713 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 05:11:15.785 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-07 05:11:15.787 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 05:11:15.801 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "RefreshToken" = @p11, "RefreshTokenExpiryTime" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-07-07 05:11:15.801 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.User.TokenResponseDTO'.
2025-07-07 05:11:15.802 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 111.5837ms
2025-07-07 05:11:15.802 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:11:15.802 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/user/login - 200 null application/json; charset=utf-8 118.874ms
2025-07-07 05:11:18.512 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:11:18.512 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:11:18.512 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.5668ms
2025-07-07 05:11:18.514 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:11:18.515 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:11:18.516 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:11:18.516 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:11:18.539 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:11:18.542 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:11:18.543 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 26.2052ms
2025-07-07 05:11:18.543 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:11:18.543 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 28.7449ms
2025-07-07 05:11:56.297 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:11:56.299 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:11:56.301 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 4.0805ms
2025-07-07 05:11:56.303 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:11:56.303 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:11:56.305 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:11:56.306 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:11:56.314 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:11:56.316 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:11:56.318 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 11.3405ms
2025-07-07 05:11:56.318 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:11:56.318 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 15.4453ms
2025-07-07 05:12:18.939 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:12:18.940 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:12:18.940 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.89ms
2025-07-07 05:12:18.942 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:12:18.943 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:12:18.943 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:12:18.943 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:12:18.958 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:12:18.959 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:12:18.959 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 15.9607ms
2025-07-07 05:12:18.959 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:12:18.960 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 17.3215ms
2025-07-07 05:12:21.311 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:12:21.311 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:12:21.312 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.6688ms
2025-07-07 05:12:21.314 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:12:21.315 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:12:21.315 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:12:21.325 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:12:21.343 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:12:21.346 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:12:21.346 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 21.2763ms
2025-07-07 05:12:21.346 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:12:21.346 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 31.932ms
2025-07-07 05:12:54.745 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:12:54.746 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:12:54.746 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 1.4055ms
2025-07-07 05:12:54.748 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:12:54.748 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:12:54.749 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:12:54.749 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:12:54.755 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:12:54.757 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:12:54.758 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 8.3485ms
2025-07-07 05:12:54.758 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:12:54.758 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 10.309ms
2025-07-07 05:13:06.689 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:13:06.690 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:13:06.690 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.7912ms
2025-07-07 05:13:06.692 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:13:06.693 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:13:06.693 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:13:06.693 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:13:06.698 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:13:06.700 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:13:06.700 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 6.8546ms
2025-07-07 05:13:06.700 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:13:06.701 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 8.3056ms
2025-07-07 05:13:26.487 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:13:26.488 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:13:26.488 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.8915ms
2025-07-07 05:13:26.491 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:13:26.491 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:13:26.492 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:13:26.492 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:13:26.496 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:13:26.497 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:13:26.497 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 4.7253ms
2025-07-07 05:13:26.497 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:13:26.497 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 6.6046ms
2025-07-07 05:14:06.931 +08:00 [INF] Application is shutting down...
2025-07-07 05:21:57.035 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-07 05:21:58.144 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-07 05:21:58.199 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 05:21:58.236 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 05:21:58.256 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-07 05:21:58.294 +08:00 [FTL] Application startup exception
System.InvalidOperationException: The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the CORS policy by listing individual origins if credentials needs to be supported.
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsPolicyBuilder.Build()
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsOptions.AddPolicy(String name, Action`1 configurePolicy)
   at Program.<>c.<<Main>$>b__0_3(CorsOptions options) in /Users/dallsszz/BraveHeartBackend/Program.cs:line 82
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsService..ctor(IOptions`1 options, ILoggerFactory loggerFactory)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-07-07 05:21:58.304 +08:00 [ERR] Hosting failed to start
System.InvalidOperationException: The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the CORS policy by listing individual origins if credentials needs to be supported.
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsPolicyBuilder.Build()
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsOptions.AddPolicy(String name, Action`1 configurePolicy)
   at Program.<>c.<<Main>$>b__0_3(CorsOptions options) in /Users/dallsszz/BraveHeartBackend/Program.cs:line 82
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsService..ctor(IOptions`1 options, ILoggerFactory loggerFactory)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-07 05:22:59.437 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-07 05:23:00.973 +08:00 [INF] Executed DbCommand (65ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-07 05:23:01.065 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 05:23:01.121 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 05:23:01.145 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-07 05:23:01.216 +08:00 [INF] Now listening on: http://[::]:8080
2025-07-07 05:23:01.218 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 05:23:01.218 +08:00 [INF] Hosting environment: Development
2025-07-07 05:23:01.218 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-07-07 05:23:04.482 +08:00 [INF] Application is shutting down...
2025-07-07 05:23:15.953 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-07 05:23:17.009 +08:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-07 05:23:17.153 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 05:23:17.195 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 05:23:17.236 +08:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-07 05:23:17.295 +08:00 [INF] Now listening on: http://[::]:8080
2025-07-07 05:23:17.296 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 05:23:17.296 +08:00 [INF] Hosting environment: Development
2025-07-07 05:23:17.296 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-07-07 05:23:21.394 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:23:21.568 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-07 05:23:21.571 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:23:21.582 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 195.3364ms
2025-07-07 05:23:21.596 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:23:21.611 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:23:21.750 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:23:21.767 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:23:22.064 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 05:23:22.217 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:23:22.506 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:23:22.584 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 811.7045ms
2025-07-07 05:23:22.585 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:23:22.612 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 1015.2515ms
2025-07-07 05:23:30.516 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/1 - null null
2025-07-07 05:23:30.519 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:23:30.520 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/1 - 204 null null 4.9495ms
2025-07-07 05:23:30.524 +08:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/Product/1 - null null
2025-07-07 05:23:30.525 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:23:30.533 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Delete (BraveHeartBackend)'
2025-07-07 05:23:30.547 +08:00 [INF] Route matched with {action = "Delete", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:23:30.599 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-07 05:23:30.607 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock"
FROM "Products" AS p
WHERE p."Id" = @__p_0
LIMIT 1
2025-07-07 05:23:30.686 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Products"
WHERE "Id" = @p0;
2025-07-07 05:23:30.697 +08:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-07 05:23:30.697 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Delete (BraveHeartBackend) in 150.0954ms
2025-07-07 05:23:30.698 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Delete (BraveHeartBackend)'
2025-07-07 05:23:30.698 +08:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/Product/1 - 204 null null 173.9371ms
2025-07-07 05:23:30.704 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:23:30.704 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:23:30.706 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 2.2003ms
2025-07-07 05:23:30.709 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:23:30.712 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:23:30.714 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:23:30.715 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:23:30.726 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:23:30.728 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:23:30.729 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 14.1527ms
2025-07-07 05:23:30.729 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:23:30.729 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 20.1715ms
2025-07-07 05:23:34.012 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:23:34.015 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:23:34.060 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:23:34.061 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:23:34.069 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:23:34.078 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:23:34.081 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 20.463ms
2025-07-07 05:23:34.082 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:23:34.083 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 70.3865ms
2025-07-07 05:25:59.324 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:25:59.336 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:25:59.338 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 13.6187ms
2025-07-07 05:25:59.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:25:59.343 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:25:59.349 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:25:59.351 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:25:59.386 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:25:59.389 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:25:59.391 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 38.8284ms
2025-07-07 05:25:59.391 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:25:59.392 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 50.1146ms
2025-07-07 05:27:18.510 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - null null
2025-07-07 05:27:18.513 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:27:18.514 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - 204 null null 4.491ms
2025-07-07 05:27:18.516 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/user/login - application/json 69
2025-07-07 05:27:18.519 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:27:18.522 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:27:18.531 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-07-07 05:27:18.580 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 05:27:18.668 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-07 05:27:18.699 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 05:27:18.720 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "RefreshToken" = @p11, "RefreshTokenExpiryTime" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-07-07 05:27:18.722 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.User.TokenResponseDTO'.
2025-07-07 05:27:18.726 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 194.8691ms
2025-07-07 05:27:18.727 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:27:18.727 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/user/login - 200 null application/json; charset=utf-8 210.6481ms
2025-07-07 05:27:20.178 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:27:20.178 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:27:20.179 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.658ms
2025-07-07 05:27:20.180 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:27:20.181 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:27:20.182 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:27:20.183 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:27:20.186 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:27:20.188 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:27:20.189 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 4.9948ms
2025-07-07 05:27:20.189 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:27:20.189 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 8.6987ms
2025-07-07 05:27:23.036 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:27:23.037 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:27:23.037 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 1.1774ms
2025-07-07 05:27:23.040 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:27:23.040 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:27:23.041 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:27:23.045 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:27:23.074 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:27:23.076 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:27:23.076 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 31.3786ms
2025-07-07 05:27:23.076 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:27:23.076 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 36.4853ms
2025-07-07 05:28:49.148 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:28:49.150 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:28:49.150 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 2.4987ms
2025-07-07 05:28:49.158 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:28:49.159 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:28:49.173 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:28:49.177 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:28:49.222 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:28:49.224 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:28:49.225 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 48.133ms
2025-07-07 05:28:49.225 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:28:49.226 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 67.6173ms
2025-07-07 05:29:01.862 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:29:01.893 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:29:01.914 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 52.4612ms
2025-07-07 05:29:01.919 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:29:01.923 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:29:01.935 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:29:01.940 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:29:01.957 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:29:01.959 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:29:01.960 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 20.017ms
2025-07-07 05:29:01.960 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:29:01.961 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 41.5105ms
2025-07-07 05:29:26.443 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:29:26.445 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:29:26.446 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 3.5865ms
2025-07-07 05:29:26.450 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:29:26.451 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:29:26.455 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:29:26.456 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:29:26.500 +08:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:29:26.508 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:29:26.509 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 52.6659ms
2025-07-07 05:29:26.509 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:29:26.510 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 59.9001ms
2025-07-07 05:29:29.667 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:29:29.668 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:29:29.668 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.5209ms
2025-07-07 05:29:29.678 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:29:29.678 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:29:29.679 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:29:29.679 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:29:29.681 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:29:29.682 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:29:29.682 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 3.0054ms
2025-07-07 05:29:29.683 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:29:29.683 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 4.7435ms
2025-07-07 05:33:35.487 +08:00 [INF] Application is shutting down...
2025-07-07 05:39:19.805 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-07 05:39:21.602 +08:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-07 05:39:21.723 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 05:39:21.849 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 05:39:21.892 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-07 05:39:21.986 +08:00 [INF] Now listening on: http://[::]:8080
2025-07-07 05:39:21.987 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 05:39:21.988 +08:00 [INF] Hosting environment: Development
2025-07-07 05:39:21.988 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-07-07 05:40:05.858 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:40:05.858 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2/attributes - null null
2025-07-07 05:40:05.911 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-07 05:40:05.914 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:40:05.914 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:40:05.923 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2/attributes - 204 null null 66.3443ms
2025-07-07 05:40:05.923 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 66.3695ms
2025-07-07 05:40:05.930 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/2/attributes - null null
2025-07-07 05:40:05.930 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:40:05.936 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:40:05.936 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:40:05.998 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetProductAttributes (BraveHeartBackend)'
2025-07-07 05:40:05.998 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:40:06.009 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:40:06.010 +08:00 [INF] Route matched with {action = "GetProductAttributes", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductAttributes(Int32) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:40:06.112 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 05:40:06.147 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:40:06.149 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 05:40:06.172 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:40:06.176 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-07 05:40:06.199 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetProductAttributes (BraveHeartBackend) in 185.0027ms
2025-07-07 05:40:06.199 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 188.1732ms
2025-07-07 05:40:06.200 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:40:06.200 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetProductAttributes (BraveHeartBackend)'
2025-07-07 05:40:06.204 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 273.8096ms
2025-07-07 05:40:06.204 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/2/attributes - 200 null application/json; charset=utf-8 273.8036ms
2025-07-07 05:40:18.940 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:40:18.944 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:40:18.945 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 5.8256ms
2025-07-07 05:40:18.964 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:40:18.968 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:40:18.981 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:40:19.072 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:40:19.168 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 05:40:19.210 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:40:19.222 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:40:19.231 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 158.9672ms
2025-07-07 05:40:19.231 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:40:19.232 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 270.3079ms
2025-07-07 05:40:21.606 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:40:21.606 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2/attributes - null null
2025-07-07 05:40:21.607 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:40:21.607 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:40:21.607 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.7674ms
2025-07-07 05:40:21.607 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2/attributes - 204 null null 0.6479ms
2025-07-07 05:40:21.610 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:40:21.611 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:40:21.611 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/2/attributes - null null
2025-07-07 05:40:21.612 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:40:21.612 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:40:21.612 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetProductAttributes (BraveHeartBackend)'
2025-07-07 05:40:21.612 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:40:21.612 +08:00 [INF] Route matched with {action = "GetProductAttributes", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductAttributes(Int32) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:40:21.628 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 05:40:21.630 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-07 05:40:21.630 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetProductAttributes (BraveHeartBackend) in 17.6547ms
2025-07-07 05:40:21.630 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetProductAttributes (BraveHeartBackend)'
2025-07-07 05:40:21.631 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/2/attributes - 200 null application/json; charset=utf-8 19.4442ms
2025-07-07 05:40:21.632 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:40:21.635 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:40:21.636 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 23.657ms
2025-07-07 05:40:21.636 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:40:21.636 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 25.9145ms
2025-07-07 05:41:10.025 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:41:10.055 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:41:10.060 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 37.1862ms
2025-07-07 05:41:10.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:41:10.072 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:41:10.080 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:41:10.082 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:41:10.140 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:41:10.147 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:41:10.151 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 68.1335ms
2025-07-07 05:41:10.152 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:41:10.152 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 84.2856ms
2025-07-07 05:41:35.405 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:41:35.412 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:41:35.418 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 11.9081ms
2025-07-07 05:41:35.431 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:41:35.439 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:41:35.494 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:41:35.498 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:41:35.600 +08:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:41:35.622 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:41:35.625 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 126.3266ms
2025-07-07 05:41:35.625 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:41:35.626 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 194.8153ms
2025-07-07 05:41:56.003 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:41:56.010 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:41:56.013 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 10.1218ms
2025-07-07 05:41:56.017 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:41:56.018 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:41:56.020 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:41:56.021 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:41:56.043 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:41:56.047 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:41:56.048 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 26.5198ms
2025-07-07 05:41:56.048 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:41:56.049 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 31.461ms
2025-07-07 05:41:58.587 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2/attributes - null null
2025-07-07 05:41:58.587 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:41:58.587 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:41:58.587 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:41:58.588 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.4498ms
2025-07-07 05:41:58.588 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2/attributes - 204 null null 1.0894ms
2025-07-07 05:41:58.592 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:41:58.592 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/2/attributes - null null
2025-07-07 05:41:58.593 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:41:58.593 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:41:58.593 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetProductAttributes (BraveHeartBackend)'
2025-07-07 05:41:58.595 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:41:58.595 +08:00 [INF] Route matched with {action = "GetProductAttributes", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductAttributes(Int32) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:41:58.595 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:41:58.597 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:41:58.598 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 05:41:58.599 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:41:58.599 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 4.3717ms
2025-07-07 05:41:58.599 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-07 05:41:58.599 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:41:58.600 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetProductAttributes (BraveHeartBackend) in 4.7924ms
2025-07-07 05:41:58.600 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetProductAttributes (BraveHeartBackend)'
2025-07-07 05:41:58.600 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 8.1263ms
2025-07-07 05:41:58.600 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/2/attributes - 200 null application/json; charset=utf-8 8.37ms
2025-07-07 05:42:22.046 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:42:22.048 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:42:22.049 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 3.8659ms
2025-07-07 05:42:22.055 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:42:22.056 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:42:22.060 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:42:22.063 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:42:22.096 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:42:22.105 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:42:22.111 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 47.5597ms
2025-07-07 05:42:22.111 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:42:22.112 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 57.475ms
2025-07-07 05:42:23.251 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:42:23.254 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:42:23.256 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:42:23.259 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:42:23.271 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:42:23.298 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:42:23.301 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 40.4694ms
2025-07-07 05:42:23.303 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:42:23.304 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 52.4875ms
2025-07-07 05:42:29.611 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - null null
2025-07-07 05:42:29.612 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:42:29.612 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - 204 null null 0.7897ms
2025-07-07 05:42:29.614 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/user/login - application/json 69
2025-07-07 05:42:29.617 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:42:29.617 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:42:29.623 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-07-07 05:42:29.648 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 05:42:29.734 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-07 05:42:29.754 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 05:42:29.828 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "RefreshToken" = @p11, "RefreshTokenExpiryTime" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-07-07 05:42:29.834 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.User.TokenResponseDTO'.
2025-07-07 05:42:29.838 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 214.8211ms
2025-07-07 05:42:29.838 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:42:29.838 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/user/login - 200 null application/json; charset=utf-8 223.661ms
2025-07-07 05:42:31.234 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:42:31.234 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:42:31.234 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.656ms
2025-07-07 05:42:31.244 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:42:31.245 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:42:31.245 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:42:31.245 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:42:31.248 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:42:31.249 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:42:31.249 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 4.0606ms
2025-07-07 05:42:31.250 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:42:31.250 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 5.9085ms
2025-07-07 05:42:33.791 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:42:33.792 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:42:33.792 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 1.04ms
2025-07-07 05:42:33.793 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2/attributes - null null
2025-07-07 05:42:33.794 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:42:33.794 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2/attributes - 204 null null 1.2617ms
2025-07-07 05:42:33.796 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:42:33.796 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:42:33.796 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:42:33.797 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:42:33.800 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/2/attributes - null null
2025-07-07 05:42:33.801 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:42:33.802 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetProductAttributes (BraveHeartBackend)'
2025-07-07 05:42:33.802 +08:00 [INF] Route matched with {action = "GetProductAttributes", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductAttributes(Int32) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:42:33.802 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:42:33.802 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:42:33.803 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 5.6632ms
2025-07-07 05:42:33.803 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:42:33.803 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 7.5302ms
2025-07-07 05:42:33.805 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 05:42:33.807 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-07 05:42:33.808 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetProductAttributes (BraveHeartBackend) in 6.5357ms
2025-07-07 05:42:33.809 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetProductAttributes (BraveHeartBackend)'
2025-07-07 05:42:33.809 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/2/attributes - 200 null application/json; charset=utf-8 9.0039ms
2025-07-07 05:46:57.302 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:46:57.308 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:46:57.310 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 7.9324ms
2025-07-07 05:46:57.319 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:46:57.320 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:46:57.325 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:46:57.326 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:46:57.394 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:46:57.396 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:46:57.397 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 69.5152ms
2025-07-07 05:46:57.397 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:46:57.397 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 78.3835ms
2025-07-07 05:47:00.239 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:47:00.239 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:47:00.239 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:47:00.240 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:47:00.240 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.6122ms
2025-07-07 05:47:00.240 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.373ms
2025-07-07 05:47:00.243 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:47:00.243 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:47:00.244 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:47:00.244 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:47:00.247 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:47:00.248 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:47:00.249 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 4.7349ms
2025-07-07 05:47:00.249 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:47:00.249 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 6.3922ms
2025-07-07 05:47:00.249 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:47:00.250 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:47:00.250 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:47:00.251 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:47:00.255 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:47:00.256 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:47:00.256 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 5.7697ms
2025-07-07 05:47:00.257 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:47:00.257 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 7.5841ms
2025-07-07 05:47:13.474 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 05:47:13.475 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:47:13.476 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 2.1231ms
2025-07-07 05:47:13.479 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 255
2025-07-07 05:47:13.481 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:47:13.492 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:47:13.498 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:47:13.555 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-07 05:47:13.572 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 73.5859ms
2025-07-07 05:47:13.572 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:47:13.572 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 400 null application/problem+json; charset=utf-8 92.8115ms
2025-07-07 05:47:15.132 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 255
2025-07-07 05:47:15.132 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:47:15.134 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:47:15.135 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:47:15.136 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-07 05:47:15.136 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 1.462ms
2025-07-07 05:47:15.136 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:47:15.136 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 400 null application/problem+json; charset=utf-8 4.724ms
2025-07-07 05:47:15.637 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 255
2025-07-07 05:47:15.637 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:47:15.639 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:47:15.639 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:47:15.641 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-07 05:47:15.641 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 1.034ms
2025-07-07 05:47:15.641 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:47:15.641 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 400 null application/problem+json; charset=utf-8 4.3897ms
2025-07-07 05:47:16.084 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 255
2025-07-07 05:47:16.085 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:47:16.085 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:47:16.085 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:47:16.087 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-07 05:47:16.088 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 2.227ms
2025-07-07 05:47:16.088 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:47:16.088 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 400 null application/problem+json; charset=utf-8 3.6637ms
2025-07-07 05:47:16.287 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 255
2025-07-07 05:47:16.288 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:47:16.288 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:47:16.288 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:47:16.289 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-07 05:47:16.290 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 1.1667ms
2025-07-07 05:47:16.290 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:47:16.290 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 400 null application/problem+json; charset=utf-8 3.0918ms
2025-07-07 05:49:41.488 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:49:41.489 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:49:41.490 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 1.842ms
2025-07-07 05:49:41.493 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:49:41.495 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:49:41.500 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:49:41.501 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:49:41.524 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:49:41.528 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:49:41.529 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 27.4964ms
2025-07-07 05:49:41.529 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:49:41.529 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 36.4625ms
2025-07-07 05:49:43.915 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:49:43.915 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:49:43.916 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.529ms
2025-07-07 05:49:43.916 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:49:43.916 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:49:43.916 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.2943ms
2025-07-07 05:49:43.919 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:49:43.919 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:49:43.920 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:49:43.920 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:49:43.923 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:49:43.923 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:49:43.924 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 4.0592ms
2025-07-07 05:49:43.924 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:49:43.924 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 5.7233ms
2025-07-07 05:49:43.925 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:49:43.925 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:49:43.925 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:49:43.926 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:49:43.928 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:49:43.929 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:49:43.929 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 3.2907ms
2025-07-07 05:49:43.929 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:49:43.929 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 4.6475ms
2025-07-07 05:50:29.136 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:50:29.138 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:50:29.139 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 3.3416ms
2025-07-07 05:50:29.142 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:50:29.143 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:50:29.147 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:50:29.148 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:50:29.170 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:50:29.173 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:50:29.174 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 26.4226ms
2025-07-07 05:50:29.174 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:50:29.175 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 33.8073ms
2025-07-07 05:50:31.215 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:50:31.215 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:50:31.215 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:50:31.215 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:50:31.215 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.5205ms
2025-07-07 05:50:31.215 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.4498ms
2025-07-07 05:50:31.218 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:50:31.218 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:50:31.219 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:50:31.219 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:50:31.221 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:50:31.222 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:50:31.223 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 3.5454ms
2025-07-07 05:50:31.223 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:50:31.223 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 5.0585ms
2025-07-07 05:50:31.224 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:50:31.224 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:50:31.224 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:50:31.224 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:50:31.226 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:50:31.228 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:50:31.228 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 3.381ms
2025-07-07 05:50:31.228 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:50:31.228 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 4.8867ms
2025-07-07 05:50:37.920 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:50:37.923 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:50:37.926 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 4.574ms
2025-07-07 05:50:37.941 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:50:37.945 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:50:37.958 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:50:38.019 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:50:38.035 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:50:38.068 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:50:38.073 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 52.8925ms
2025-07-07 05:50:38.074 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:50:38.075 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 133.8998ms
2025-07-07 05:50:40.303 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:50:40.303 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:50:40.303 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:50:40.303 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.6823ms
2025-07-07 05:50:40.303 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:50:40.304 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.6684ms
2025-07-07 05:50:40.306 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:50:40.307 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:50:40.309 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:50:40.310 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:50:40.314 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:50:40.315 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:50:40.315 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 5.1675ms
2025-07-07 05:50:40.315 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:50:40.316 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 9.3542ms
2025-07-07 05:50:40.316 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:50:40.316 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:50:40.317 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:50:40.317 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:50:40.319 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:50:40.320 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:50:40.320 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 2.873ms
2025-07-07 05:50:40.320 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:50:40.321 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 4.7025ms
2025-07-07 05:51:09.693 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:51:09.695 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:51:09.695 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 2.3357ms
2025-07-07 05:51:09.699 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:51:09.701 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:51:09.709 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:51:09.738 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:51:09.837 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:51:09.846 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:51:09.848 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 109.8213ms
2025-07-07 05:51:09.848 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:51:09.849 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 149.4967ms
2025-07-07 05:51:12.139 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:51:12.139 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:51:12.140 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.6337ms
2025-07-07 05:51:12.140 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:51:12.140 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:51:12.140 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.2792ms
2025-07-07 05:51:12.144 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:51:12.145 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:51:12.147 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:51:12.147 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:51:12.149 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:51:12.150 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:51:12.150 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 2.7135ms
2025-07-07 05:51:12.150 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:51:12.153 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 8.6416ms
2025-07-07 05:51:12.153 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:51:12.154 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:51:12.154 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:51:12.154 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:51:12.157 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:51:12.157 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:51:12.158 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 3.7735ms
2025-07-07 05:51:12.158 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:51:12.159 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 5.3927ms
2025-07-07 05:51:18.441 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 05:51:18.443 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:51:18.443 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 1.8795ms
2025-07-07 05:51:18.445 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 255
2025-07-07 05:51:18.445 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:51:18.447 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:51:18.449 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:51:18.454 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-07 05:51:18.456 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 7.389ms
2025-07-07 05:51:18.457 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:51:18.457 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 400 null application/problem+json; charset=utf-8 11.7515ms
2025-07-07 05:54:29.369 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:54:29.375 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:54:29.380 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 8.9768ms
2025-07-07 05:54:29.383 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:54:29.384 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:54:29.414 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:54:29.415 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:54:29.470 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:54:29.473 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:54:29.474 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 58.5871ms
2025-07-07 05:54:29.474 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:54:29.475 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 91.6845ms
2025-07-07 05:54:31.915 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:54:31.915 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:54:31.916 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.8057ms
2025-07-07 05:54:31.916 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:54:31.916 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:54:31.917 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.8832ms
2025-07-07 05:54:31.921 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:54:31.922 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:54:31.922 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:54:31.923 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:54:31.927 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:54:31.927 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:54:31.939 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 15.9765ms
2025-07-07 05:54:31.939 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:54:31.940 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 19.0308ms
2025-07-07 05:54:31.941 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:54:31.942 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:54:31.942 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:54:31.942 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:54:31.944 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:54:31.944 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:54:31.945 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 2.2077ms
2025-07-07 05:54:31.945 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:54:31.945 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 3.6254ms
2025-07-07 05:54:39.285 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 05:54:39.291 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:54:39.298 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 14.7182ms
2025-07-07 05:54:39.303 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 372
2025-07-07 05:54:39.306 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:54:39.312 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:54:39.315 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:54:39.344 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-07 05:54:39.345 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 29.8776ms
2025-07-07 05:54:39.345 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:54:39.345 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 400 null application/problem+json; charset=utf-8 41.3573ms
2025-07-07 05:55:43.218 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:55:43.220 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:55:43.220 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 3.0646ms
2025-07-07 05:55:43.224 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:55:43.226 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:55:43.228 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:55:43.231 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:55:43.263 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:55:43.270 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:55:43.271 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 39.1264ms
2025-07-07 05:55:43.271 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:55:43.272 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 48.3898ms
2025-07-07 05:55:45.215 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:55:45.216 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:55:45.216 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.4131ms
2025-07-07 05:55:45.217 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:55:45.217 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:55:45.218 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.6754ms
2025-07-07 05:55:45.220 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:55:45.220 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:55:45.222 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:55:45.223 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:55:45.227 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:55:45.228 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:55:45.228 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 4.2151ms
2025-07-07 05:55:45.228 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:55:45.228 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 8.613ms
2025-07-07 05:55:45.230 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:55:45.230 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:55:45.231 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:55:45.231 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:55:45.233 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:55:45.234 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:55:45.234 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 2.6508ms
2025-07-07 05:55:45.235 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:55:45.235 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 5.3047ms
2025-07-07 05:55:50.727 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 05:55:50.729 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:55:50.729 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 2.1526ms
2025-07-07 05:55:50.733 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 431
2025-07-07 05:55:50.733 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:55:50.738 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:55:50.740 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:55:50.752 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-07 05:55:50.754 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 13.2704ms
2025-07-07 05:55:50.754 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:55:50.755 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 400 null application/problem+json; charset=utf-8 21.7242ms
2025-07-07 05:58:00.626 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:58:00.630 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:58:00.631 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 4.5372ms
2025-07-07 05:58:00.635 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:58:00.636 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:58:00.644 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:58:00.649 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:58:00.676 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:58:00.681 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:58:00.686 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 35.7392ms
2025-07-07 05:58:00.686 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:58:00.686 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 50.7437ms
2025-07-07 05:58:02.496 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:58:02.496 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:58:02.496 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.5767ms
2025-07-07 05:58:02.497 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:58:02.498 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:58:02.498 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 1.0605ms
2025-07-07 05:58:02.501 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:58:02.514 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:58:02.514 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:58:02.514 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:58:02.522 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:58:02.523 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:58:02.523 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 8.4483ms
2025-07-07 05:58:02.523 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:58:02.523 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 22.3596ms
2025-07-07 05:58:02.524 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:58:02.529 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:58:02.530 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:58:02.530 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:58:02.534 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:58:02.535 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:58:02.535 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 4.518ms
2025-07-07 05:58:02.536 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:58:02.536 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 11.3798ms
2025-07-07 05:58:06.759 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 05:58:06.767 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:58:06.768 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 9.1155ms
2025-07-07 05:58:06.773 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 426
2025-07-07 05:58:06.774 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:58:06.780 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:58:06.781 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:58:06.852 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-07 05:58:06.854 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 05:58:06.862 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ProductAttributeId", p."ProductId", p."Value"
FROM "ProductAttributeValues" AS p
WHERE p."ProductId" = @__id_0
2025-07-07 05:58:06.939 +08:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p0;
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p1;
UPDATE "Products" SET "Price" = @p2
WHERE "Id" = @p3;
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p4;
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p5, @p6, @p7)
RETURNING "Id";
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p8, @p9, @p10)
RETURNING "Id";
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p11, @p12, @p13)
RETURNING "Id";
2025-07-07 05:58:06.973 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'BraveHeartBackend.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "ProductAttributeValues" violates foreign key constraint "FK_ProductAttributeValues_ProductAttributes_ProductAttributeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "ProductAttributeValues" violates foreign key constraint "FK_ProductAttributeValues_ProductAttributes_ProductAttributeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ProductAttributeValues
    ConstraintName: FK_ProductAttributeValues_ProductAttributes_ProductAttributeId
    File: ri_triggers.c
    Line: 2619
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "ProductAttributeValues" violates foreign key constraint "FK_ProductAttributeValues_ProductAttributes_ProductAttributeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "ProductAttributeValues" violates foreign key constraint "FK_ProductAttributeValues_ProductAttributes_ProductAttributeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ProductAttributeValues
    ConstraintName: FK_ProductAttributeValues_ProductAttributes_ProductAttributeId
    File: ri_triggers.c
    Line: 2619
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-07 05:58:06.976 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 195.2493ms
2025-07-07 05:58:06.976 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 05:58:06.977 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "ProductAttributeValues" violates foreign key constraint "FK_ProductAttributeValues_ProductAttributes_ProductAttributeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "ProductAttributeValues" violates foreign key constraint "FK_ProductAttributeValues_ProductAttributes_ProductAttributeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ProductAttributeValues
    ConstraintName: FK_ProductAttributeValues_ProductAttributes_ProductAttributeId
    File: ri_triggers.c
    Line: 2619
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BraveHeartBackend.Controllers.ProductController.Update(Int32 id, ProductUpdateDto dto) in /Users/dallsszz/BraveHeartBackend/Controllers/ProductController.cs:line 308
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-07 05:58:06.996 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 500 null text/plain; charset=utf-8 223.817ms
2025-07-07 06:01:54.374 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:01:54.389 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:01:54.390 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 15.7551ms
2025-07-07 06:01:54.393 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:01:54.394 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:01:54.395 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:01:54.396 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:01:54.432 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:01:54.434 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:01:54.434 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 38.1494ms
2025-07-07 06:01:54.434 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:01:54.434 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 41.1629ms
2025-07-07 06:02:22.785 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:02:22.844 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:02:22.846 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 60.7947ms
2025-07-07 06:02:22.853 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:02:22.855 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:02:22.858 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:02:22.859 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:02:22.873 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:02:22.890 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:02:22.894 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 34.3337ms
2025-07-07 06:02:22.895 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:02:22.896 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 42.6322ms
2025-07-07 06:02:25.395 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:02:25.395 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:02:25.395 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.3917ms
2025-07-07 06:02:25.396 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:02:25.396 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:02:25.396 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.3094ms
2025-07-07 06:02:25.400 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:02:25.401 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:02:25.402 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:02:25.403 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:02:25.406 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:02:25.407 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:02:25.408 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 4.6815ms
2025-07-07 06:02:25.408 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:02:25.408 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 7.7282ms
2025-07-07 06:02:25.408 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:02:25.409 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:02:25.409 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:02:25.409 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:02:25.412 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:02:25.412 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:02:25.412 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 2.7152ms
2025-07-07 06:02:25.414 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:02:25.414 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 5.3555ms
2025-07-07 06:02:31.306 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 06:02:31.307 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:02:31.308 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 2.0598ms
2025-07-07 06:02:31.311 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 492
2025-07-07 06:02:31.311 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:02:31.314 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:02:31.315 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:02:31.350 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-07 06:02:31.352 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:02:31.354 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ProductAttributeId", p."ProductId", p."Value"
FROM "ProductAttributeValues" AS p
WHERE p."ProductId" = @__id_0
2025-07-07 06:02:31.362 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p0;
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p1;
UPDATE "Products" SET "Price" = @p2
WHERE "Id" = @p3;
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p4;
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p5, @p6, @p7)
RETURNING "Id";
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p8, @p9, @p10)
RETURNING "Id";
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p11, @p12, @p13)
RETURNING "Id";
2025-07-07 06:02:31.388 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 06:02:31.401 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__product_Id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:02:31.405 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.Product.ProductResponseDto'.
2025-07-07 06:02:31.405 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 90.1258ms
2025-07-07 06:02:31.405 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:02:31.405 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 200 null application/json; charset=utf-8 94.2446ms
2025-07-07 06:02:31.410 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:02:31.410 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:02:31.410 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.2642ms
2025-07-07 06:02:31.412 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:02:31.412 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:02:31.412 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:02:31.412 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:02:31.414 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:02:31.417 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:02:31.418 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 5.3632ms
2025-07-07 06:02:31.418 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:02:31.418 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 6.4322ms
2025-07-07 06:08:18.174 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:08:18.174 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:08:18.177 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:08:18.177 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:08:18.177 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 2.9633ms
2025-07-07 06:08:18.177 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 2.9657ms
2025-07-07 06:08:18.188 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:08:18.192 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:08:18.207 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:08:18.208 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:08:18.252 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:08:18.253 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:08:18.253 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 41.0859ms
2025-07-07 06:08:18.253 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:08:18.253 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 65.5247ms
2025-07-07 06:08:18.253 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:08:18.254 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:08:18.254 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:08:18.254 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:08:18.258 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:08:18.259 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:08:18.259 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 4.3789ms
2025-07-07 06:08:18.259 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:08:18.259 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 5.7386ms
2025-07-07 06:08:24.359 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 06:08:24.360 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:08:24.360 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 0.3784ms
2025-07-07 06:08:24.362 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 12
2025-07-07 06:08:24.363 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:08:24.363 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:08:24.364 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:08:24.367 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-07 06:08:24.369 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 4.7722ms
2025-07-07 06:08:24.369 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:08:24.369 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 400 null application/problem+json; charset=utf-8 6.6315ms
2025-07-07 06:09:03.455 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:09:03.457 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:09:03.457 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 2.5345ms
2025-07-07 06:09:03.464 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:09:03.484 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:09:03.499 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:09:03.503 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:09:03.588 +08:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:09:03.591 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:09:03.592 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 85.4546ms
2025-07-07 06:09:03.592 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:09:03.592 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 128.58ms
2025-07-07 06:09:07.447 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:09:07.448 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:09:07.449 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 2.166ms
2025-07-07 06:09:07.449 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:09:07.450 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:09:07.450 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.5428ms
2025-07-07 06:09:07.457 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:09:07.458 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:09:07.460 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:09:07.462 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:09:07.486 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:09:07.488 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:09:07.489 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 26.7231ms
2025-07-07 06:09:07.489 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:09:07.489 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 31.9687ms
2025-07-07 06:09:07.490 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:09:07.490 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:09:07.491 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:09:07.491 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:09:07.494 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:09:07.495 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:09:07.495 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 3.4436ms
2025-07-07 06:09:07.495 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:09:07.495 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 5.3069ms
2025-07-07 06:09:14.846 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 06:09:14.849 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:09:14.849 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 2.849ms
2025-07-07 06:09:14.855 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 12
2025-07-07 06:09:14.856 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:09:14.861 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:09:14.862 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:09:14.893 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-07 06:09:14.894 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 32.3721ms
2025-07-07 06:09:14.895 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:09:14.895 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 400 null application/problem+json; charset=utf-8 39.7418ms
2025-07-07 06:10:20.713 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:10:20.715 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:10:20.715 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 2.2638ms
2025-07-07 06:10:20.718 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:10:20.719 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:10:20.725 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:10:20.728 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:10:20.764 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:10:20.768 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:10:20.769 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 40.7199ms
2025-07-07 06:10:20.769 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:10:20.771 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 52.5768ms
2025-07-07 06:10:23.735 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:10:23.735 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:10:23.735 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.6063ms
2025-07-07 06:10:23.735 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:10:23.736 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:10:23.736 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.4002ms
2025-07-07 06:10:23.739 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:10:23.741 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:10:23.742 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:10:23.742 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:10:23.745 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:10:23.746 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:10:23.746 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 3.1514ms
2025-07-07 06:10:23.746 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:10:23.746 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 6.8023ms
2025-07-07 06:10:23.746 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:10:23.747 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:10:23.747 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:10:23.747 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:10:23.749 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:10:23.750 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:10:23.750 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 2.2996ms
2025-07-07 06:10:23.750 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:10:23.750 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 3.7503ms
2025-07-07 06:12:07.782 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:12:07.784 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:12:07.785 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 3.4055ms
2025-07-07 06:12:07.788 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:12:07.792 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:12:07.797 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:12:07.798 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:12:07.841 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:12:07.845 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:12:07.846 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 47.0291ms
2025-07-07 06:12:07.846 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:12:07.846 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 58.0697ms
2025-07-07 06:12:10.214 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:12:10.215 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:12:10.215 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:12:10.215 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.4885ms
2025-07-07 06:12:10.215 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:12:10.215 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.6192ms
2025-07-07 06:12:10.220 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:12:10.220 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:12:10.221 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:12:10.222 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:12:10.223 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:12:10.224 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:12:10.224 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 2.4026ms
2025-07-07 06:12:10.224 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:12:10.225 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 5.1031ms
2025-07-07 06:12:10.225 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:12:10.226 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:12:10.226 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:12:10.226 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:12:10.228 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:12:10.229 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:12:10.229 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 2.6938ms
2025-07-07 06:12:10.230 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:12:10.230 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 4.2882ms
2025-07-07 06:12:17.035 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 06:12:17.036 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:12:17.037 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 1.568ms
2025-07-07 06:12:17.040 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 12
2025-07-07 06:12:17.041 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:12:17.043 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:12:17.044 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:12:17.049 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-07 06:12:17.049 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 5.4268ms
2025-07-07 06:12:17.050 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:12:17.050 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 400 null application/problem+json; charset=utf-8 9.4132ms
2025-07-07 06:12:48.473 +08:00 [INF] Application is shutting down...
2025-07-07 06:13:05.411 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-07 06:13:06.458 +08:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-07 06:13:06.511 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 06:13:06.547 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 06:13:06.566 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-07 06:13:06.619 +08:00 [INF] Now listening on: http://[::]:8080
2025-07-07 06:13:06.620 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 06:13:06.620 +08:00 [INF] Hosting environment: Development
2025-07-07 06:13:06.620 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-07-07 06:13:09.736 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:13:09.878 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-07 06:13:09.879 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:09.889 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 156.234ms
2025-07-07 06:13:09.902 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:13:09.916 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:10.079 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:13:10.097 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:13:10.324 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 06:13:10.398 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:13:10.493 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:13:10.544 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 440.9768ms
2025-07-07 06:13:10.545 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:13:10.558 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 655.987ms
2025-07-07 06:13:12.429 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:13:12.429 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:13:12.431 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:12.431 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:12.432 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 2.2105ms
2025-07-07 06:13:12.432 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 2.2007ms
2025-07-07 06:13:12.436 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:13:12.438 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:12.445 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:13:12.454 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:13:12.508 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:13:12.512 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:13:12.513 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 58.14ms
2025-07-07 06:13:12.513 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:13:12.514 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:13:12.514 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 78.2153ms
2025-07-07 06:13:12.515 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:12.518 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:13:12.518 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:13:12.524 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:13:12.526 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:13:12.527 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 8.7991ms
2025-07-07 06:13:12.527 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:13:12.528 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 13.8573ms
2025-07-07 06:13:17.120 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 06:13:17.122 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:17.123 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 2.2521ms
2025-07-07 06:13:17.128 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 12
2025-07-07 06:13:17.129 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:17.136 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:13:17.155 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:13:17.233 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-07 06:13:17.250 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 06:13:17.275 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:13:17.558 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Price" = @p0
WHERE "Id" = @p1;
2025-07-07 06:13:17.584 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 06:13:17.625 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__product_Id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:13:17.633 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.Product.ProductResponseDto'.
2025-07-07 06:13:17.634 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 478.3838ms
2025-07-07 06:13:17.634 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:13:17.635 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 200 null application/json; charset=utf-8 507.0978ms
2025-07-07 06:13:17.647 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:13:17.647 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:17.648 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 1.1783ms
2025-07-07 06:13:17.652 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:13:17.654 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:17.654 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:13:17.654 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:13:17.658 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:13:17.662 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:13:17.662 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 7.8989ms
2025-07-07 06:13:17.663 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:13:17.663 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 11.1129ms
2025-07-07 06:13:30.650 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 06:13:30.652 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:30.652 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 2.1102ms
2025-07-07 06:13:30.663 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 101
2025-07-07 06:13:30.669 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:30.672 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:13:30.672 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:13:30.683 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-07 06:13:30.688 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:13:30.701 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ProductAttributeId", p."ProductId", p."Value"
FROM "ProductAttributeValues" AS p
WHERE p."ProductId" = @__id_0
2025-07-07 06:13:30.773 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p0;
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p1;
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p2;
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p3, @p4, @p5)
RETURNING "Id";
2025-07-07 06:13:30.792 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__product_Id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:13:30.792 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.Product.ProductResponseDto'.
2025-07-07 06:13:30.793 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 120.5471ms
2025-07-07 06:13:30.793 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:13:30.793 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 200 null application/json; charset=utf-8 129.9323ms
2025-07-07 06:13:30.799 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:13:30.799 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:30.799 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.3925ms
2025-07-07 06:13:30.801 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:13:30.801 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:30.802 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:13:30.802 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:13:30.804 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:13:30.805 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:13:30.806 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 4.0326ms
2025-07-07 06:13:30.806 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:13:30.806 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 5.3926ms
2025-07-07 06:13:52.698 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/3 - null null
2025-07-07 06:13:52.699 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:52.699 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/3 - 204 null null 0.9642ms
2025-07-07 06:13:52.703 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/3 - application/json 91
2025-07-07 06:13:52.703 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:52.707 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:13:52.707 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:13:52.710 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-07 06:13:52.712 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:13:52.714 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ProductAttributeId", p."ProductId", p."Value"
FROM "ProductAttributeValues" AS p
WHERE p."ProductId" = @__id_0
2025-07-07 06:13:52.717 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p0;
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p1;
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p2;
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p3, @p4, @p5)
RETURNING "Id";
2025-07-07 06:13:52.719 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__product_Id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:13:52.720 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.Product.ProductResponseDto'.
2025-07-07 06:13:52.720 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 12.442ms
2025-07-07 06:13:52.720 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:13:52.720 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/3 - 200 null application/json; charset=utf-8 17.3846ms
2025-07-07 06:13:52.725 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:13:52.725 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:52.726 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.8419ms
2025-07-07 06:13:52.729 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:13:52.730 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:13:52.730 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:13:52.730 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:13:52.755 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:13:52.756 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:13:52.756 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 25.5407ms
2025-07-07 06:13:52.756 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:13:52.756 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 26.7626ms
2025-07-07 06:15:36.066 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:15:36.069 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:15:36.071 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 4.8731ms
2025-07-07 06:15:36.096 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:15:36.110 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:15:36.147 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:15:36.149 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:15:36.199 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:15:36.202 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:15:36.203 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 53.8336ms
2025-07-07 06:15:36.205 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:15:36.206 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 109.7625ms
2025-07-07 06:15:38.007 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:15:38.008 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:15:38.009 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:15:38.009 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 1.3277ms
2025-07-07 06:15:38.009 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:15:38.010 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.9873ms
2025-07-07 06:15:38.017 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:15:38.017 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:15:38.018 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:15:38.019 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:15:38.021 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:15:38.021 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:15:38.022 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 2.8785ms
2025-07-07 06:15:38.022 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:15:38.022 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 5.5366ms
2025-07-07 06:15:38.024 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:15:38.025 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:15:38.026 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:15:38.026 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:15:38.029 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:15:38.030 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:15:38.030 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 3.7755ms
2025-07-07 06:15:38.030 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:15:38.031 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 7.0007ms
2025-07-07 06:15:47.845 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 06:15:47.846 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:15:47.847 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 2.0767ms
2025-07-07 06:15:47.850 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 76
2025-07-07 06:15:47.850 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:15:47.854 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:15:47.855 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:15:47.879 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-07 06:15:47.882 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:15:47.884 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ProductAttributeId", p."ProductId", p."Value"
FROM "ProductAttributeValues" AS p
WHERE p."ProductId" = @__id_0
2025-07-07 06:15:47.887 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p0;
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p1, @p2, @p3)
RETURNING "Id";
2025-07-07 06:15:47.892 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__product_Id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:15:47.894 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.Product.ProductResponseDto'.
2025-07-07 06:15:47.894 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 39.475ms
2025-07-07 06:15:47.895 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:15:47.902 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 200 null application/json; charset=utf-8 52.5179ms
2025-07-07 06:15:47.909 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:15:47.909 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:15:47.909 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.3595ms
2025-07-07 06:15:47.918 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:15:47.919 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:15:47.920 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:15:47.920 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:15:47.922 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:15:47.924 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:15:47.924 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 4.34ms
2025-07-07 06:15:47.925 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:15:47.925 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 7.0644ms
2025-07-07 06:17:43.403 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:17:43.406 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:17:43.407 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 3.6781ms
2025-07-07 06:17:43.412 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:17:43.421 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:17:43.426 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:17:43.427 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:17:43.536 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:17:43.541 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:17:43.543 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 114.7463ms
2025-07-07 06:17:43.543 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:17:43.543 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 131.1386ms
2025-07-07 06:17:48.033 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:17:48.033 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:17:48.035 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:17:48.035 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:17:48.036 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 2.8831ms
2025-07-07 06:17:48.036 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 3.1276ms
2025-07-07 06:17:48.042 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:17:48.043 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:17:48.046 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:17:48.047 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:17:48.065 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:17:48.066 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:17:48.066 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 18.9981ms
2025-07-07 06:17:48.066 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:17:48.067 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 24.3265ms
2025-07-07 06:17:48.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:17:48.069 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:17:48.071 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:17:48.074 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:17:48.087 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:17:48.094 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:17:48.096 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 21.0218ms
2025-07-07 06:17:48.098 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:17:48.106 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 38.4082ms
2025-07-07 06:17:56.893 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 06:17:56.894 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:17:56.894 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 0.8006ms
2025-07-07 06:17:56.896 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 173
2025-07-07 06:17:56.896 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:17:56.897 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:17:56.897 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:17:56.910 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-07 06:17:56.916 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:17:56.918 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ProductAttributeId", p."ProductId", p."Value"
FROM "ProductAttributeValues" AS p
WHERE p."ProductId" = @__id_0
2025-07-07 06:17:56.921 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p0;
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p1, @p2, @p3)
RETURNING "Id";
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p4, @p5, @p6)
RETURNING "Id";
2025-07-07 06:17:56.925 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__product_Id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:17:56.925 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.Product.ProductResponseDto'.
2025-07-07 06:17:56.926 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 28.4526ms
2025-07-07 06:17:56.926 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:17:56.926 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 200 null application/json; charset=utf-8 30.7106ms
2025-07-07 06:17:56.933 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:17:56.934 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:17:56.934 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.3134ms
2025-07-07 06:17:56.936 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:17:56.936 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:17:56.937 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:17:56.937 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:17:56.963 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:17:56.965 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:17:56.965 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 28.4912ms
2025-07-07 06:17:56.966 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:17:56.966 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 29.8554ms
2025-07-07 06:18:16.435 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/4 - null null
2025-07-07 06:18:16.437 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:18:16.437 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/4 - 204 null null 1.8442ms
2025-07-07 06:18:16.441 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/4 - application/json 335
2025-07-07 06:18:16.442 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:18:16.463 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:18:16.464 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:18:16.528 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-07 06:18:16.538 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:18:16.540 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ProductAttributeId", p."ProductId", p."Value"
FROM "ProductAttributeValues" AS p
WHERE p."ProductId" = @__id_0
2025-07-07 06:18:16.544 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p4='?' (DbType = Int32), @p2='?' (DbType = Decimal), @p3='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p0;
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p1;
UPDATE "Products" SET "Price" = @p2, "Stock" = @p3
WHERE "Id" = @p4;
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p5;
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p6, @p7, @p8)
RETURNING "Id";
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p9, @p10, @p11)
RETURNING "Id";
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p12, @p13, @p14)
RETURNING "Id";
2025-07-07 06:18:16.546 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__product_Id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:18:16.547 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.Product.ProductResponseDto'.
2025-07-07 06:18:16.547 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 82.3831ms
2025-07-07 06:18:16.547 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:18:16.547 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/4 - 200 null application/json; charset=utf-8 105.6605ms
2025-07-07 06:18:16.552 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:18:16.552 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:18:16.553 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.3727ms
2025-07-07 06:18:16.555 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:18:16.555 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:18:16.556 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:18:16.557 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:18:16.565 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:18:16.566 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:18:16.567 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 10.1317ms
2025-07-07 06:18:16.567 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:18:16.567 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 12.2709ms
2025-07-07 06:18:48.843 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/cloudinary-signature - null null
2025-07-07 06:18:48.845 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:18:48.846 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/cloudinary-signature - 204 null null 2.4743ms
2025-07-07 06:18:48.848 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/cloudinary-signature - null null
2025-07-07 06:18:48.849 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:18:48.851 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetById (BraveHeartBackend)'
2025-07-07 06:18:48.861 +08:00 [INF] Route matched with {action = "GetById", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:18:48.881 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-07 06:18:48.901 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetById (BraveHeartBackend) in 40.2818ms
2025-07-07 06:18:48.902 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetById (BraveHeartBackend)'
2025-07-07 06:18:48.902 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/cloudinary-signature - 400 null application/problem+json; charset=utf-8 53.9832ms
2025-07-07 06:21:34.160 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:21:34.178 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:21:34.178 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 18.5067ms
2025-07-07 06:21:34.184 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:21:34.185 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:21:34.212 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:21:34.213 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:21:34.228 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:21:34.236 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:21:34.238 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 25.0408ms
2025-07-07 06:21:34.239 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:21:34.240 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 56.2433ms
2025-07-07 06:21:38.342 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:21:38.342 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:21:38.345 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:21:38.345 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:21:38.346 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 4.9141ms
2025-07-07 06:21:38.346 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 5.003ms
2025-07-07 06:21:38.359 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:21:38.360 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:21:38.363 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:21:38.364 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:21:38.406 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:21:38.408 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:21:38.409 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 44.9194ms
2025-07-07 06:21:38.409 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:21:38.409 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 50.8131ms
2025-07-07 06:21:38.410 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:21:38.411 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:21:38.412 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:21:38.412 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:21:38.415 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:21:38.416 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:21:38.417 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 3.9156ms
2025-07-07 06:21:38.417 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:21:38.417 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 7.1119ms
2025-07-07 06:21:51.458 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Cloudinary/signature - null null
2025-07-07 06:21:51.459 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:21:51.460 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Cloudinary/signature - 204 null null 1.9223ms
2025-07-07 06:21:51.462 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Cloudinary/signature - null null
2025-07-07 06:21:51.465 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:21:51.466 +08:00 [INF] Executing endpoint 'CloudinaryController.GetSignature (BraveHeartBackend)'
2025-07-07 06:21:51.471 +08:00 [INF] Route matched with {action = "GetSignature", controller = "Cloudinary", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetSignature() on controller CloudinaryController (BraveHeartBackend).
2025-07-07 06:21:51.507 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-07 06:21:51.518 +08:00 [INF] Executed action CloudinaryController.GetSignature (BraveHeartBackend) in 46.4682ms
2025-07-07 06:21:51.518 +08:00 [INF] Executed endpoint 'CloudinaryController.GetSignature (BraveHeartBackend)'
2025-07-07 06:21:51.518 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Cloudinary/signature - 200 null application/json; charset=utf-8 55.6796ms
2025-07-07 06:22:05.225 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:22:05.226 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:22:05.227 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 1.6885ms
2025-07-07 06:22:05.230 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:22:05.232 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:22:05.235 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:22:05.237 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:22:05.347 +08:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:22:05.350 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:22:05.351 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 113.7542ms
2025-07-07 06:22:05.351 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:22:05.351 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 121.1526ms
2025-07-07 06:22:23.962 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - null null
2025-07-07 06:22:23.964 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:22:23.965 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - 204 null null 3.4201ms
2025-07-07 06:22:23.967 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/user/login - application/json 69
2025-07-07 06:22:23.967 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:22:23.969 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 06:22:23.978 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-07-07 06:22:24.025 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 06:22:24.128 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-07 06:22:24.150 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 06:22:24.178 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "RefreshToken" = @p11, "RefreshTokenExpiryTime" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-07-07 06:22:24.180 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.User.TokenResponseDTO'.
2025-07-07 06:22:24.184 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 205.5699ms
2025-07-07 06:22:24.184 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 06:22:24.184 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/user/login - 200 null application/json; charset=utf-8 217.0328ms
2025-07-07 06:22:26.806 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:22:26.806 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:22:26.806 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.6799ms
2025-07-07 06:22:26.809 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:22:26.809 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:22:26.810 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:22:26.810 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:22:26.814 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:22:26.815 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:22:26.815 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 4.7424ms
2025-07-07 06:22:26.816 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:22:26.816 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 6.8089ms
2025-07-07 06:22:29.857 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:22:29.857 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:22:29.858 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.5345ms
2025-07-07 06:22:29.858 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:22:29.858 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:22:29.859 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.49ms
2025-07-07 06:22:29.866 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:22:29.866 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:22:29.867 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:22:29.867 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:22:29.872 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:22:29.873 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:22:29.873 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 5.9492ms
2025-07-07 06:22:29.874 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:22:29.874 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 8.2801ms
2025-07-07 06:22:29.874 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:22:29.875 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:22:29.876 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:22:29.876 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:22:29.878 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:22:29.879 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:22:29.879 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 2.7781ms
2025-07-07 06:22:29.880 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:22:29.880 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 5.3106ms
2025-07-07 06:22:40.624 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Cloudinary/signature - null null
2025-07-07 06:22:40.625 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:22:40.625 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Cloudinary/signature - 204 null null 0.8277ms
2025-07-07 06:22:40.627 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Cloudinary/signature - null null
2025-07-07 06:22:40.628 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:22:40.629 +08:00 [INF] Executing endpoint 'CloudinaryController.GetSignature (BraveHeartBackend)'
2025-07-07 06:22:40.630 +08:00 [INF] Route matched with {action = "GetSignature", controller = "Cloudinary", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetSignature() on controller CloudinaryController (BraveHeartBackend).
2025-07-07 06:22:40.634 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-07 06:22:40.635 +08:00 [INF] Executed action CloudinaryController.GetSignature (BraveHeartBackend) in 3.8117ms
2025-07-07 06:22:40.635 +08:00 [INF] Executed endpoint 'CloudinaryController.GetSignature (BraveHeartBackend)'
2025-07-07 06:22:40.635 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Cloudinary/signature - 200 null application/json; charset=utf-8 7.831ms
2025-07-07 06:27:34.457 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:27:34.459 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:27:34.460 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 3.8059ms
2025-07-07 06:27:34.471 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:27:34.478 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:27:34.485 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:27:34.495 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:27:34.614 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:27:34.632 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:27:34.637 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 140.6434ms
2025-07-07 06:27:34.637 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:27:34.638 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 168.2731ms
2025-07-07 06:27:37.596 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:27:37.596 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:27:37.598 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:27:37.598 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:27:37.599 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 2.7475ms
2025-07-07 06:27:37.599 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 2.7462ms
2025-07-07 06:27:37.602 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:27:37.603 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:27:37.605 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:27:37.606 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:27:37.646 +08:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:27:37.647 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:27:37.648 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 41.6511ms
2025-07-07 06:27:37.648 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:27:37.648 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 45.5662ms
2025-07-07 06:27:37.649 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:27:37.664 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:27:37.665 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:27:37.665 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:27:37.749 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:27:37.757 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:27:37.758 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 76.7091ms
2025-07-07 06:27:37.758 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:27:37.762 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 112.7857ms
2025-07-07 06:27:48.272 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Cloudinary/signature?folder=brave-heart-images%2Fproduct-images - null null
2025-07-07 06:27:48.273 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:27:48.273 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Cloudinary/signature?folder=brave-heart-images%2Fproduct-images - 204 null null 1.264ms
2025-07-07 06:27:48.275 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Cloudinary/signature?folder=brave-heart-images%2Fproduct-images - null null
2025-07-07 06:27:48.276 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:27:48.277 +08:00 [INF] Executing endpoint 'CloudinaryController.GetSignature (BraveHeartBackend)'
2025-07-07 06:27:48.278 +08:00 [INF] Route matched with {action = "GetSignature", controller = "Cloudinary", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetSignature() on controller CloudinaryController (BraveHeartBackend).
2025-07-07 06:27:48.285 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-07 06:27:48.285 +08:00 [INF] Executed action CloudinaryController.GetSignature (BraveHeartBackend) in 7.1967ms
2025-07-07 06:27:48.285 +08:00 [INF] Executed endpoint 'CloudinaryController.GetSignature (BraveHeartBackend)'
2025-07-07 06:27:48.286 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Cloudinary/signature?folder=brave-heart-images%2Fproduct-images - 200 null application/json; charset=utf-8 10.4743ms
2025-07-07 06:28:15.041 +08:00 [INF] Application is shutting down...
2025-07-07 06:28:25.652 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-07 06:28:28.274 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-07 06:28:28.332 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 06:28:28.374 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 06:28:28.393 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-07 06:28:28.470 +08:00 [INF] Now listening on: http://[::]:8080
2025-07-07 06:28:28.471 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 06:28:28.471 +08:00 [INF] Hosting environment: Development
2025-07-07 06:28:28.471 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-07-07 06:28:30.809 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:28:30.953 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-07 06:28:30.955 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:30.964 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 160.3497ms
2025-07-07 06:28:30.978 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:28:30.989 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:31.149 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:28:31.182 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:28:31.373 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 06:28:31.411 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:28:31.479 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:28:31.518 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 331.7664ms
2025-07-07 06:28:31.519 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:28:31.527 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 548.5002ms
2025-07-07 06:28:33.868 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:28:33.869 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:28:33.870 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:33.870 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:33.871 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 2.2454ms
2025-07-07 06:28:33.871 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 3.1141ms
2025-07-07 06:28:33.881 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:28:33.883 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:33.887 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:28:33.891 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:28:33.936 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:28:33.941 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:28:33.942 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 50.8825ms
2025-07-07 06:28:33.942 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:28:33.943 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 61.6011ms
2025-07-07 06:28:33.943 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:28:33.944 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:33.947 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:28:33.947 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:28:33.954 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:28:33.956 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:28:33.956 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 9.1487ms
2025-07-07 06:28:33.956 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:28:33.957 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 13.8928ms
2025-07-07 06:28:43.572 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Cloudinary/signature?folder=brave-heart-images%2Fproduct-images - null null
2025-07-07 06:28:43.577 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:43.579 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Cloudinary/signature?folder=brave-heart-images%2Fproduct-images - 204 null null 6.3033ms
2025-07-07 06:28:43.590 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Cloudinary/signature?folder=brave-heart-images%2Fproduct-images - null null
2025-07-07 06:28:43.591 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:43.595 +08:00 [INF] Executing endpoint 'CloudinaryController.GetSignature (BraveHeartBackend)'
2025-07-07 06:28:43.643 +08:00 [INF] Route matched with {action = "GetSignature", controller = "Cloudinary", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetSignature(System.String) on controller CloudinaryController (BraveHeartBackend).
2025-07-07 06:28:43.763 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-07 06:28:43.778 +08:00 [INF] Executed action CloudinaryController.GetSignature (BraveHeartBackend) in 134.6319ms
2025-07-07 06:28:43.779 +08:00 [INF] Executed endpoint 'CloudinaryController.GetSignature (BraveHeartBackend)'
2025-07-07 06:28:43.779 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Cloudinary/signature?folder=brave-heart-images%2Fproduct-images - 200 null application/json; charset=utf-8 189.3424ms
2025-07-07 06:28:44.875 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - null null
2025-07-07 06:28:44.875 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:44.875 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/2 - 204 null null 0.7618ms
2025-07-07 06:28:44.878 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8080/api/Product/2 - application/json 314
2025-07-07 06:28:44.879 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:44.886 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:28:44.891 +08:00 [INF] Route matched with {action = "Update", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, BraveHeartBackend.DTOs.Product.ProductUpdateDto) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:28:44.947 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-07 06:28:44.963 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 06:28:44.978 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p3."Id" AS "Id0", p3."ProductAttributeId", p3."ProductId", p3."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN (
        SELECT p2."Id", p2."ProductAttributeId", p2."ProductId", p2."Value"
        FROM "ProductAttributeValues" AS p2
        WHERE p2."ProductId" = @__id_0
    ) AS p3 ON p1."Id" = p3."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:28:44.987 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ProductAttributeId", p."ProductId", p."Value"
FROM "ProductAttributeValues" AS p
WHERE p."ProductId" = @__id_0
2025-07-07 06:28:45.084 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p1='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p0;
UPDATE "Products" SET "ImageUrl" = @p1
WHERE "Id" = @p2;
DELETE FROM "ProductAttributeValues"
WHERE "Id" = @p3;
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p4, @p5, @p6)
RETURNING "Id";
INSERT INTO "ProductAttributeValues" ("ProductAttributeId", "ProductId", "Value")
VALUES (@p7, @p8, @p9)
RETURNING "Id";
2025-07-07 06:28:45.110 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 06:28:45.123 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."ImageUrl", s."Name", s."Price", s."ProductTypeId", s."Stock", s."Id0", s."Name0", s0."Id", s0."DataType", s0."IsRequired", s0."Name", s0."ProductTypeId", s0."Id0", s0."ProductAttributeId", s0."ProductId", s0."Value"
FROM (
    SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id" AS "Id0", p0."Name" AS "Name0"
    FROM "Products" AS p
    INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
    WHERE p."Id" = @__product_Id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s0 ON s."Id0" = s0."ProductTypeId"
ORDER BY s."Id", s."Id0", s0."Id"
2025-07-07 06:28:45.127 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.Product.ProductResponseDto'.
2025-07-07 06:28:45.127 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend) in 236.401ms
2025-07-07 06:28:45.127 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Update (BraveHeartBackend)'
2025-07-07 06:28:45.127 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:8080/api/Product/2 - 200 null application/json; charset=utf-8 249.2569ms
2025-07-07 06:28:45.135 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:28:45.135 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:45.135 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.4454ms
2025-07-07 06:28:45.139 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:28:45.140 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:45.140 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:28:45.140 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:28:45.159 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:28:45.161 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:28:45.161 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 20.4686ms
2025-07-07 06:28:45.162 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:28:45.162 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 22.8671ms
2025-07-07 06:28:53.125 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:28:53.141 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:53.142 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 17.0985ms
2025-07-07 06:28:53.188 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:28:53.197 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:28:53.284 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:28:53.291 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:28:53.724 +08:00 [INF] Executed DbCommand (341ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:28:53.728 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:28:53.729 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 435.1425ms
2025-07-07 06:28:53.729 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:28:53.730 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 541.1573ms
2025-07-07 06:29:05.620 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:29:05.621 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:29:05.622 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 1.9826ms
2025-07-07 06:29:05.624 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:29:05.625 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:29:05.628 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:29:05.629 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:29:05.636 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:29:05.637 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:29:05.638 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 8.7503ms
2025-07-07 06:29:05.638 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:29:05.638 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 14.1229ms
2025-07-07 06:29:27.743 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:29:27.746 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:29:27.748 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 5.7394ms
2025-07-07 06:29:27.754 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:29:27.755 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:29:27.761 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:29:27.764 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:29:27.835 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:29:27.855 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:29:27.856 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 90.2331ms
2025-07-07 06:29:27.858 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:29:27.859 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 105.2828ms
2025-07-07 06:30:37.271 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:30:37.277 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:30:37.280 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 27.4846ms
2025-07-07 06:30:37.284 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:30:37.297 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:30:37.309 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:30:37.313 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:30:37.365 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:30:37.369 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:30:37.370 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 56.5872ms
2025-07-07 06:30:37.371 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:30:37.371 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 87.0895ms
2025-07-07 06:30:43.853 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 06:30:43.855 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:30:43.857 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 3.7882ms
2025-07-07 06:30:43.861 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 06:30:43.862 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:30:43.865 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:30:43.866 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 06:30:43.920 +08:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 06:30:43.932 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:30:43.933 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 66.6464ms
2025-07-07 06:30:43.933 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 06:30:43.934 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 72.3852ms
2025-07-07 06:30:55.511 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:30:55.512 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:30:55.512 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.5477ms
2025-07-07 06:30:55.514 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 06:30:55.515 +08:00 [INF] CORS policy execution successful.
2025-07-07 06:30:55.516 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:30:55.516 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 06:30:55.520 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 06:30:55.521 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 06:30:55.522 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 5.6358ms
2025-07-07 06:30:55.522 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 06:30:55.522 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 7.7124ms
