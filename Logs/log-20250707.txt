2025-07-07 04:33:41.228 +08:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE braveheartdb WITH (FORCE);
2025-07-07 04:33:47.037 +08:00 [ERR] An error occurred using the connection to database 'braveheartdb' on server 'tcp://localhost:5432'.
2025-07-07 04:34:43.843 +08:00 [ERR] An error occurred using the connection to database 'braveheartdb' on server 'tcp://localhost:5432'.
2025-07-07 04:34:44.341 +08:00 [INF] Executed DbCommand (259ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE braveheartdb;
2025-07-07 04:34:44.414 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-07 04:34:44.420 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-07 04:34:44.423 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-07 04:34:44.425 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-07 04:34:44.434 +08:00 [INF] Applying migration '20250620073447_InitialCreate'.
2025-07-07 04:34:44.480 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApplicationUser" (
    "Id" text NOT NULL,
    "UserName" text,
    "NormalizedUserName" text,
    "Email" text,
    "NormalizedEmail" text,
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_ApplicationUser" PRIMARY KEY ("Id")
);
2025-07-07 04:34:44.487 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductTypes" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    CONSTRAINT "PK_ProductTypes" PRIMARY KEY ("Id")
);
2025-07-07 04:34:44.494 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Carts" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_Carts" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Carts_ApplicationUser_UserId" FOREIGN KEY ("UserId") REFERENCES "ApplicationUser" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.497 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CheckoutDetails" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "PhoneNumber" text NOT NULL,
    "AddressLine1" text NOT NULL,
    "AddressLine2" text NOT NULL,
    "City" text NOT NULL,
    "State" text NOT NULL,
    "PostalCode" text NOT NULL,
    "Country" text NOT NULL,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_CheckoutDetails" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CheckoutDetails_ApplicationUser_UserId" FOREIGN KEY ("UserId") REFERENCES "ApplicationUser" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.501 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductAttributes" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "DataType" text NOT NULL,
    "ProductTypeId" integer NOT NULL,
    CONSTRAINT "PK_ProductAttributes" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductAttributes_ProductTypes_ProductTypeId" FOREIGN KEY ("ProductTypeId") REFERENCES "ProductTypes" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.505 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Price" numeric NOT NULL,
    "Stock" integer NOT NULL,
    "ProductTypeId" integer NOT NULL,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Products_ProductTypes_ProductTypeId" FOREIGN KEY ("ProductTypeId") REFERENCES "ProductTypes" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.508 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CartItems" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "CartId" integer NOT NULL,
    "ProductId" integer NOT NULL,
    "Quantity" integer NOT NULL,
    CONSTRAINT "PK_CartItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CartItems_Carts_CartId" FOREIGN KEY ("CartId") REFERENCES "Carts" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CartItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.512 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductAttributeValues" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Value" text NOT NULL,
    "ProductId" integer NOT NULL,
    "ProductAttributeId" integer NOT NULL,
    CONSTRAINT "PK_ProductAttributeValues" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductAttributeValues_ProductAttributes_ProductAttributeId" FOREIGN KEY ("ProductAttributeId") REFERENCES "ProductAttributes" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ProductAttributeValues_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.514 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_CartId" ON "CartItems" ("CartId");
2025-07-07 04:34:44.515 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_ProductId" ON "CartItems" ("ProductId");
2025-07-07 04:34:44.516 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Carts_UserId" ON "Carts" ("UserId");
2025-07-07 04:34:44.517 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CheckoutDetails_UserId" ON "CheckoutDetails" ("UserId");
2025-07-07 04:34:44.519 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributes_ProductTypeId" ON "ProductAttributes" ("ProductTypeId");
2025-07-07 04:34:44.520 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributeValues_ProductAttributeId" ON "ProductAttributeValues" ("ProductAttributeId");
2025-07-07 04:34:44.521 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributeValues_ProductId" ON "ProductAttributeValues" ("ProductId");
2025-07-07 04:34:44.522 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Products_ProductTypeId" ON "Products" ("ProductTypeId");
2025-07-07 04:34:44.523 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250620073447_InitialCreate', '9.0.6');
2025-07-07 04:34:44.523 +08:00 [INF] Applying migration '20250620164701_AddIdentityTables'.
2025-07-07 04:34:44.553 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Carts" DROP CONSTRAINT "FK_Carts_ApplicationUser_UserId";
2025-07-07 04:34:44.553 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CheckoutDetails" DROP CONSTRAINT "FK_CheckoutDetails_ApplicationUser_UserId";
2025-07-07 04:34:44.554 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ApplicationUser" DROP CONSTRAINT "PK_ApplicationUser";
2025-07-07 04:34:44.555 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ApplicationUser" RENAME TO "AspNetUsers";
2025-07-07 04:34:44.559 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ALTER COLUMN "UserName" TYPE character varying(256);
2025-07-07 04:34:44.564 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ALTER COLUMN "NormalizedUserName" TYPE character varying(256);
2025-07-07 04:34:44.567 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ALTER COLUMN "NormalizedEmail" TYPE character varying(256);
2025-07-07 04:34:44.569 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ALTER COLUMN "Email" TYPE character varying(256);
2025-07-07 04:34:44.570 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id");
2025-07-07 04:34:44.574 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-07-07 04:34:44.577 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.581 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" character varying(128) NOT NULL,
    "ProviderKey" character varying(128) NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.584 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" character varying(128) NOT NULL,
    "Name" character varying(128) NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.588 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.593 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:34:44.595 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-07-07 04:34:44.597 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-07-07 04:34:44.598 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-07-07 04:34:44.599 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-07-07 04:34:44.601 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-07-07 04:34:44.602 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-07-07 04:34:44.603 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-07-07 04:34:44.607 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Carts" ADD CONSTRAINT "FK_Carts_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-07-07 04:34:44.608 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CheckoutDetails" ADD CONSTRAINT "FK_CheckoutDetails_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-07-07 04:34:44.608 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250620164701_AddIdentityTables', '9.0.6');
2025-07-07 04:34:44.609 +08:00 [INF] Applying migration '20250620172930_AddUserTypeToApplicationUser'.
2025-07-07 04:34:44.623 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "UserType" text NOT NULL DEFAULT '';
2025-07-07 04:34:44.624 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250620172930_AddUserTypeToApplicationUser', '9.0.6');
2025-07-07 04:34:44.624 +08:00 [INF] Applying migration '20250621123833_integratesCartEntityIntoUserAsField'.
2025-07-07 04:34:44.635 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CartItems" DROP CONSTRAINT "FK_CartItems_Carts_CartId";
2025-07-07 04:34:44.636 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Carts";
2025-07-07 04:34:44.637 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_CartItems_CartId";
2025-07-07 04:34:44.637 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CartItems" DROP COLUMN "CartId";
2025-07-07 04:34:44.638 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CartItems" ADD "UserId" text NOT NULL DEFAULT '';
2025-07-07 04:34:44.639 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_UserId" ON "CartItems" ("UserId");
2025-07-07 04:34:44.641 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CartItems" ADD CONSTRAINT "FK_CartItems_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-07-07 04:34:44.641 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250621123833_integratesCartEntityIntoUserAsField', '9.0.6');
2025-07-07 04:34:44.641 +08:00 [INF] Applying migration '20250621183718_productRequireType'.
2025-07-07 04:34:44.651 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250621183718_productRequireType', '9.0.6');
2025-07-07 04:34:44.652 +08:00 [INF] Applying migration '20250621184902_productModelCleanup'.
2025-07-07 04:34:44.660 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250621184902_productModelCleanup', '9.0.6');
2025-07-07 04:34:44.660 +08:00 [INF] Applying migration '20250621190140_productModelCleanup2'.
2025-07-07 04:34:44.670 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250621190140_productModelCleanup2', '9.0.6');
2025-07-07 04:34:44.670 +08:00 [INF] Applying migration '20250623161500_removesUserTypeInUserModel'.
2025-07-07 04:34:44.679 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" DROP COLUMN "UserType";
2025-07-07 04:34:44.680 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250623161500_removesUserTypeInUserModel', '9.0.6');
2025-07-07 04:34:44.680 +08:00 [INF] Applying migration '20250623213424_addsIsRequireedForAttributes'.
2025-07-07 04:34:44.690 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ProductAttributes" ADD "IsRequired" boolean NOT NULL DEFAULT FALSE;
2025-07-07 04:34:44.690 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250623213424_addsIsRequireedForAttributes', '9.0.6');
2025-07-07 04:34:44.691 +08:00 [INF] Applying migration '20250626175308_AddProductImageUrl'.
2025-07-07 04:34:44.700 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Products" ADD "ImageUrl" text;
2025-07-07 04:34:44.700 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250626175308_AddProductImageUrl', '9.0.6');
2025-07-07 04:34:44.701 +08:00 [INF] Applying migration '20250628181845_AddProductName'.
2025-07-07 04:34:44.710 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Products" ADD "Name" character varying(200) NOT NULL DEFAULT '';
2025-07-07 04:34:44.711 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250628181845_AddProductName', '9.0.6');
2025-07-07 04:34:44.711 +08:00 [INF] Applying migration '20250628193324_SeedData'.
2025-07-07 04:34:44.739 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductTypes" ("Id", "Name")
VALUES (1, 'Electronics');
INSERT INTO "ProductTypes" ("Id", "Name")
VALUES (2, 'Fire Safety Equipment');
INSERT INTO "ProductTypes" ("Id", "Name")
VALUES (3, 'Clothing');
2025-07-07 04:34:44.742 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (1, 'string', TRUE, 'Color', 1);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (2, 'string', TRUE, 'Storage', 1);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (3, 'string', TRUE, 'Brand', 1);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (4, 'string', TRUE, 'ExtinguisherClass', 2);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (5, 'string', TRUE, 'Capacity', 2);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (6, 'string', FALSE, 'Material', 2);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (7, 'string', TRUE, 'Size', 3);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (8, 'string', TRUE, 'Material', 3);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (9, 'string', TRUE, 'Color', 3);
2025-07-07 04:34:44.745 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (1, 'https://example.com/iphone15.jpg', 'iPhone 15', 999.0, 1, 50);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (2, 'https://example.com/galaxy-s24.jpg', 'Samsung Galaxy S24', 899.0, 1, 30);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (3, 'https://example.com/macbook-pro.jpg', 'MacBook Pro', 1999.0, 1, 20);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (4, 'https://example.com/abc-extinguisher.jpg', 'ABC Fire Extinguisher', 89.99, 2, 100);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (5, 'https://example.com/co2-extinguisher.jpg', 'CO2 Fire Extinguisher', 149.99, 2, 75);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (6, 'https://example.com/fire-blanket.jpg', 'Fire Blanket', 29.99, 2, 200);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (7, 'https://example.com/firefighter-jacket.jpg', 'Firefighter Jacket', 299.99, 3, 25);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (8, 'https://example.com/safety-helmet.jpg', 'Safety Helmet', 89.99, 3, 60);
2025-07-07 04:34:44.750 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (1, 1, 1, 'Black');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (2, 1, 1, 'White');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (3, 2, 1, '128GB');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (4, 2, 1, '256GB');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (5, 3, 1, 'Apple');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (6, 1, 2, 'Black');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (7, 1, 2, 'Blue');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (8, 2, 2, '128GB');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (9, 2, 2, '512GB');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (10, 3, 2, 'Samsung');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (11, 1, 3, 'Space Gray');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (12, 1, 3, 'Silver');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (13, 2, 3, '512GB');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (14, 2, 3, '1TB');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (15, 3, 3, 'Apple');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (16, 4, 4, 'ABC');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (17, 5, 4, '5 lbs');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (18, 5, 4, '10 lbs');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (19, 6, 4, 'Steel');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (20, 4, 5, 'CO2');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (21, 5, 5, '10 lbs');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (22, 6, 5, 'Aluminum');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (23, 4, 6, 'N/A');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (24, 5, 6, '4ft x 6ft');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (25, 6, 6, 'Fiberglass');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (26, 7, 7, 'Large');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (27, 7, 7, 'XL');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (28, 8, 7, 'Nomex');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (29, 9, 7, 'Yellow');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (30, 9, 7, 'Orange');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (31, 7, 8, 'Medium');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (32, 7, 8, 'Large');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (33, 8, 8, 'ABS Plastic');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (34, 9, 8, 'White');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (35, 9, 8, 'Yellow');
2025-07-07 04:34:44.753 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"ProductTypes"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "ProductTypes") + 1,
        nextval(pg_get_serial_sequence('"ProductTypes"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"ProductAttributes"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "ProductAttributes") + 1,
        nextval(pg_get_serial_sequence('"ProductAttributes"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Products"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Products") + 1,
        nextval(pg_get_serial_sequence('"Products"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"ProductAttributeValues"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "ProductAttributeValues") + 1,
        nextval(pg_get_serial_sequence('"ProductAttributeValues"', 'Id'))),
    false);
2025-07-07 04:34:44.754 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250628193324_SeedData', '9.0.6');
2025-07-07 04:34:44.754 +08:00 [INF] Applying migration '20250628211215_AddRefreshTokenFields'.
2025-07-07 04:34:44.765 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "RefreshToken" text;
2025-07-07 04:34:44.766 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "RefreshTokenExpiryTime" timestamp with time zone;
2025-07-07 04:34:44.767 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250628211215_AddRefreshTokenFields', '9.0.6');
2025-07-07 04:34:44.767 +08:00 [INF] Applying migration '20250706203435_SeedFireExtinguishers'.
2025-07-07 04:34:44.791 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 13;
2025-07-07 04:34:44.792 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 14;
2025-07-07 04:34:44.792 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 15;
2025-07-07 04:34:44.792 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 16;
2025-07-07 04:34:44.793 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 17;
2025-07-07 04:34:44.793 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 18;
2025-07-07 04:34:44.794 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 19;
2025-07-07 04:34:44.794 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 20;
2025-07-07 04:34:44.794 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 21;
2025-07-07 04:34:44.795 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 22;
2025-07-07 04:34:44.795 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 23;
2025-07-07 04:34:44.795 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 24;
2025-07-07 04:34:44.795 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 25;
2025-07-07 04:34:44.796 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 26;
2025-07-07 04:34:44.797 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 27;
2025-07-07 04:34:44.797 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 28;
2025-07-07 04:34:44.798 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 29;
2025-07-07 04:34:44.798 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 30;
2025-07-07 04:34:44.798 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 31;
2025-07-07 04:34:44.799 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 32;
2025-07-07 04:34:44.799 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 33;
2025-07-07 04:34:44.799 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 34;
2025-07-07 04:34:44.800 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributeValues"
WHERE "Id" = 35;
2025-07-07 04:34:44.800 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributes"
WHERE "Id" = 4;
2025-07-07 04:34:44.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributes"
WHERE "Id" = 5;
2025-07-07 04:34:44.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributes"
WHERE "Id" = 6;
2025-07-07 04:34:44.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributes"
WHERE "Id" = 7;
2025-07-07 04:34:44.802 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributes"
WHERE "Id" = 8;
2025-07-07 04:34:44.802 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductAttributes"
WHERE "Id" = 9;
2025-07-07 04:34:44.802 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Products"
WHERE "Id" = 5;
2025-07-07 04:34:44.803 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Products"
WHERE "Id" = 6;
2025-07-07 04:34:44.803 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Products"
WHERE "Id" = 7;
2025-07-07 04:34:44.803 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Products"
WHERE "Id" = 8;
2025-07-07 04:34:44.804 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductTypes"
WHERE "Id" = 2;
2025-07-07 04:34:44.804 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ProductTypes"
WHERE "Id" = 3;
2025-07-07 04:34:44.805 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "Value" = 'White band on a red body'
WHERE "Id" = 1;
2025-07-07 04:34:44.805 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 2, "Value" = 'Multipurpose dry chemical'
WHERE "Id" = 2;
2025-07-07 04:34:44.811 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 3, "Value" = 'Effective on Class A (solids like wood/paper), B (flammable liquids/gases), and C (electrical) fires'
WHERE "Id" = 3;
2025-07-07 04:34:44.811 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 1, "ProductId" = 2, "Value" = 'Black band on a red body'
WHERE "Id" = 4;
2025-07-07 04:34:44.812 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 2, "ProductId" = 2, "Value" = 'Carbon dioxide gas'
WHERE "Id" = 5;
2025-07-07 04:34:44.812 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 3, "Value" = 'Ideal for Class B (flammable liquids) and Class C (electrical) fires—leaves no residue, safe for equipment'
WHERE "Id" = 6;
2025-07-07 04:34:44.813 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductId" = 3, "Value" = 'Blue band on a red body'
WHERE "Id" = 7;
2025-07-07 04:34:44.814 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductId" = 3, "Value" = 'Aqueous film-forming foam'
WHERE "Id" = 8;
2025-07-07 04:34:44.815 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 3, "ProductId" = 3, "Value" = 'Suitable for Class A (solids) and B (liquids) fires—forms a foam blanket to suppress vapors'
WHERE "Id" = 9;
2025-07-07 04:34:44.839 +08:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "ProductAttributeValues" SET "ProductAttributeId" = 1, "ProductId" = 4, "Value" = 'White band on a light green body'
WHERE "Id" = 10;
2025-07-07 04:36:05.608 +08:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE braveheartdb WITH (FORCE);
2025-07-07 04:36:12.573 +08:00 [ERR] An error occurred using the connection to database 'braveheartdb' on server 'tcp://localhost:5432'.
2025-07-07 04:36:12.906 +08:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE braveheartdb;
2025-07-07 04:36:13.036 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-07 04:36:13.043 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-07 04:36:13.044 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-07 04:36:13.047 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-07 04:36:13.056 +08:00 [INF] Applying migration '20250706203558_InitialClean'.
2025-07-07 04:36:13.116 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-07-07 04:36:13.119 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" text NOT NULL,
    "RefreshToken" text,
    "RefreshTokenExpiryTime" timestamp with time zone,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2025-07-07 04:36:13.123 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductTypes" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    CONSTRAINT "PK_ProductTypes" PRIMARY KEY ("Id")
);
2025-07-07 04:36:13.128 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.133 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.136 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" character varying(128) NOT NULL,
    "ProviderKey" character varying(128) NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.139 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.142 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" character varying(128) NOT NULL,
    "Name" character varying(128) NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.145 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CheckoutDetails" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "PhoneNumber" text NOT NULL,
    "AddressLine1" text NOT NULL,
    "AddressLine2" text NOT NULL,
    "City" text NOT NULL,
    "State" text NOT NULL,
    "PostalCode" text NOT NULL,
    "Country" text NOT NULL,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_CheckoutDetails" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CheckoutDetails_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.148 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductAttributes" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "DataType" text NOT NULL,
    "IsRequired" boolean NOT NULL,
    "ProductTypeId" integer NOT NULL,
    CONSTRAINT "PK_ProductAttributes" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductAttributes_ProductTypes_ProductTypeId" FOREIGN KEY ("ProductTypeId") REFERENCES "ProductTypes" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.151 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(200) NOT NULL,
    "Price" numeric NOT NULL,
    "Stock" integer NOT NULL,
    "ProductTypeId" integer NOT NULL,
    "ImageUrl" text,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Products_ProductTypes_ProductTypeId" FOREIGN KEY ("ProductTypeId") REFERENCES "ProductTypes" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.155 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CartItems" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ProductId" integer NOT NULL,
    "Quantity" integer NOT NULL,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_CartItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CartItems_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CartItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.159 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductAttributeValues" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Value" text NOT NULL,
    "ProductId" integer NOT NULL,
    "ProductAttributeId" integer NOT NULL,
    CONSTRAINT "PK_ProductAttributeValues" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductAttributeValues_ProductAttributes_ProductAttributeId" FOREIGN KEY ("ProductAttributeId") REFERENCES "ProductAttributes" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ProductAttributeValues_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-07-07 04:36:13.160 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductTypes" ("Id", "Name")
VALUES (1, 'Fire Extinguisher');
2025-07-07 04:36:13.164 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (1, 'string', TRUE, 'Color band', 1);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (2, 'string', TRUE, 'Extinguishing agent', 1);
INSERT INTO "ProductAttributes" ("Id", "DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (3, 'string', TRUE, 'Use', 1);
2025-07-07 04:36:13.165 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (1, 'https://res.cloudinary.com/braveheartimages/image/upload/v1751823422/dry-chemical_t0rp88.png', 'Dry Chemical (ABC)', 0.0, 1, 0);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (2, 'https://res.cloudinary.com/braveheartimages/image/upload/v1751823357/c02_zlry7d.png', 'Carbon Dioxide (CO₂)', 0.0, 1, 0);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (3, 'https://res.cloudinary.com/braveheartimages/image/upload/v1751823434/foam_ixdviw.png', 'Foam', 0.0, 1, 0);
INSERT INTO "Products" ("Id", "ImageUrl", "Name", "Price", "ProductTypeId", "Stock")
VALUES (4, 'https://res.cloudinary.com/braveheartimages/image/upload/v1751823365/halon_nowrpt.png', 'Halon Substitute', 0.0, 1, 0);
2025-07-07 04:36:13.167 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (1, 1, 1, 'White band on a red body');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (2, 2, 1, 'Multipurpose dry chemical');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (3, 3, 1, 'Effective on Class A (solids like wood/paper), B (flammable liquids/gases), and C (electrical) fires');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (4, 1, 2, 'Black band on a red body');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (5, 2, 2, 'Carbon dioxide gas');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (6, 3, 2, 'Ideal for Class B (flammable liquids) and Class C (electrical) fires—leaves no residue, safe for equipment');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (7, 1, 3, 'Blue band on a red body');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (8, 2, 3, 'Aqueous film-forming foam');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (9, 3, 3, 'Suitable for Class A (solids) and B (liquids) fires—forms a foam blanket to suppress vapors');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (10, 1, 4, 'White band on a light green body');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (11, 2, 4, 'Halon-replacement gases (such as FM-200 or similar clean agents)');
INSERT INTO "ProductAttributeValues" ("Id", "ProductAttributeId", "ProductId", "Value")
VALUES (12, 3, 4, 'Designed for Class A, B, and C fires—non-corrosive and leaves minimal residue');
2025-07-07 04:36:13.168 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-07-07 04:36:13.169 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-07-07 04:36:13.170 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-07-07 04:36:13.170 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-07-07 04:36:13.171 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-07-07 04:36:13.172 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-07-07 04:36:13.173 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-07-07 04:36:13.174 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_ProductId" ON "CartItems" ("ProductId");
2025-07-07 04:36:13.175 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_UserId" ON "CartItems" ("UserId");
2025-07-07 04:36:13.176 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CheckoutDetails_UserId" ON "CheckoutDetails" ("UserId");
2025-07-07 04:36:13.176 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributes_ProductTypeId" ON "ProductAttributes" ("ProductTypeId");
2025-07-07 04:36:13.177 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributeValues_ProductAttributeId" ON "ProductAttributeValues" ("ProductAttributeId");
2025-07-07 04:36:13.178 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributeValues_ProductId" ON "ProductAttributeValues" ("ProductId");
2025-07-07 04:36:13.179 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Products_ProductTypeId" ON "Products" ("ProductTypeId");
2025-07-07 04:36:13.183 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"ProductTypes"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "ProductTypes") + 1,
        nextval(pg_get_serial_sequence('"ProductTypes"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"ProductAttributes"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "ProductAttributes") + 1,
        nextval(pg_get_serial_sequence('"ProductAttributes"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Products"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Products") + 1,
        nextval(pg_get_serial_sequence('"Products"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"ProductAttributeValues"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "ProductAttributeValues") + 1,
        nextval(pg_get_serial_sequence('"ProductAttributeValues"', 'Id'))),
    false);
2025-07-07 04:36:13.183 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250706203558_InitialClean', '9.0.6');
2025-07-07 04:44:40.329 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-07 04:44:41.482 +08:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-07 04:44:41.503 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-07 04:44:41.587 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-07-07 04:44:41.602 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 04:44:41.675 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 04:44:41.721 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-07-07 04:44:41.728 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 04:44:41.752 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-07 04:44:41.754 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 04:44:41.762 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 04:44:41.779 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p18='?', @p2='?' (DbType = Int32), @p3='?', @p19='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "SecurityStamp" = @p15, "TwoFactorEnabled" = @p16, "UserName" = @p17
WHERE "Id" = @p18 AND "ConcurrencyStamp" = @p19;
2025-07-07 04:44:41.833 +08:00 [INF] Now listening on: http://[::]:8080
2025-07-07 04:44:41.834 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 04:44:41.834 +08:00 [INF] Hosting environment: Development
2025-07-07 04:44:41.835 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-07-07 04:48:28.595 +08:00 [INF] Application is shutting down...
2025-07-07 04:48:35.379 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-07 04:48:36.396 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-07 04:48:36.448 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 04:48:36.520 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 04:48:36.619 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-07-07 04:48:36.631 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 04:48:36.650 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-07 04:48:36.654 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-07 04:48:36.661 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 04:48:36.678 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p18='?', @p2='?' (DbType = Int32), @p3='?', @p19='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "RefreshToken" = @p13, "RefreshTokenExpiryTime" = @p14, "SecurityStamp" = @p15, "TwoFactorEnabled" = @p16, "UserName" = @p17
WHERE "Id" = @p18 AND "ConcurrencyStamp" = @p19;
2025-07-07 04:48:36.725 +08:00 [INF] Now listening on: http://[::]:8080
2025-07-07 04:48:36.726 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-07 04:48:36.727 +08:00 [INF] Hosting environment: Development
2025-07-07 04:48:36.727 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-07-07 04:49:39.517 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger - null null
2025-07-07 04:49:39.552 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger - 301 0 null 35.8493ms
2025-07-07 04:49:39.564 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2025-07-07 04:49:39.607 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 43.1286ms
2025-07-07 04:49:39.652 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui.css - null null
2025-07-07 04:49:39.655 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.js - null null
2025-07-07 04:49:39.655 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui-standalone-preset.js - null null
2025-07-07 04:49:39.655 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.css - null null
2025-07-07 04:49:39.655 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui-bundle.js - null null
2025-07-07 04:49:39.657 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.js - 200 null application/javascript;charset=utf-8 2.0254ms
2025-07-07 04:49:39.667 +08:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-07-07 04:49:39.667 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.css - 200 202 text/css 12.3355ms
2025-07-07 04:49:39.672 +08:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-07-07 04:49:39.673 +08:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-07-07 04:49:39.676 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 20.9292ms
2025-07-07 04:49:39.676 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui.css - 200 154949 text/css 23.2717ms
2025-07-07 04:49:39.680 +08:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-07-07 04:49:39.680 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui-bundle.js - 200 1485241 text/javascript 25.5146ms
2025-07-07 04:49:39.876 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2025-07-07 04:49:39.893 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/favicon-32x32.png - null null
2025-07-07 04:49:39.893 +08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-07-07 04:49:39.893 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/favicon-32x32.png - 200 628 image/png 0.5142ms
2025-07-07 04:49:39.952 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.624ms
2025-07-07 04:49:49.752 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product - null null
2025-07-07 04:49:49.759 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-07 04:49:49.784 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-07-07 04:49:49.793 +08:00 [INF] Route matched with {action = "GetAll", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 04:49:49.894 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 04:49:49.914 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ImageUrl", p."Name", p."Price", p."ProductTypeId", p."Stock", p0."Id", p0."Name", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "Products" AS p
INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p0."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 04:49:49.957 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.Product, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.Product.ProductResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 04:49:49.976 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend) in 181.533ms
2025-07-07 04:49:49.977 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-07-07 04:49:49.979 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product - 200 null application/json; charset=utf-8 227.3082ms
2025-07-07 04:55:14.091 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - null null
2025-07-07 04:55:14.101 +08:00 [INF] CORS policy execution successful.
2025-07-07 04:55:14.103 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - 204 null null 13.0608ms
2025-07-07 04:55:14.108 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/user/login - application/json 69
2025-07-07 04:55:14.111 +08:00 [INF] CORS policy execution successful.
2025-07-07 04:55:14.160 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30/6/2025 11:27:50 am', Current time (UTC): '6/7/2025 8:55:14 pm'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-07 04:55:14.174 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30/6/2025 11:27:50 am', Current time (UTC): '6/7/2025 8:55:14 pm'.
2025-07-07 04:55:14.175 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 04:55:14.191 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-07-07 04:55:14.267 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 04:55:14.357 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-07 04:55:14.371 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 04:55:14.384 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "RefreshToken" = @p11, "RefreshTokenExpiryTime" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-07-07 04:55:14.387 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.User.TokenResponseDTO'.
2025-07-07 04:55:14.393 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 201.6804ms
2025-07-07 04:55:14.393 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 04:55:14.393 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/user/login - 200 null application/json; charset=utf-8 285.154ms
2025-07-07 04:55:38.358 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 04:55:38.363 +08:00 [INF] CORS policy execution successful.
2025-07-07 04:55:38.365 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 7.2306ms
2025-07-07 04:55:38.368 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 04:55:38.369 +08:00 [INF] CORS policy execution successful.
2025-07-07 04:55:38.390 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 04:55:38.399 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 04:55:38.412 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-07 04:55:38.436 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 04:55:38.443 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 04:55:38.446 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 47.3475ms
2025-07-07 04:55:38.447 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 04:55:38.447 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 79.213ms
2025-07-07 05:07:14.803 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - null null
2025-07-07 05:07:14.807 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:07:14.809 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - 204 null null 6.0335ms
2025-07-07 05:07:14.812 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/user/login - application/json 69
2025-07-07 05:07:14.812 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:07:14.815 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:07:14.816 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-07-07 05:07:14.840 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 05:07:14.918 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-07 05:07:14.920 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 05:07:14.926 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "RefreshToken" = @p11, "RefreshTokenExpiryTime" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-07-07 05:07:14.926 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.User.TokenResponseDTO'.
2025-07-07 05:07:14.927 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 110.7819ms
2025-07-07 05:07:14.927 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:07:14.927 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/user/login - 200 null application/json; charset=utf-8 114.783ms
2025-07-07 05:08:52.579 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - null null
2025-07-07 05:08:52.581 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:08:52.583 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - 204 null null 3.7947ms
2025-07-07 05:08:52.586 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/user/login - application/json 69
2025-07-07 05:08:52.587 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:08:52.590 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:08:52.593 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-07-07 05:08:52.699 +08:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 05:08:52.775 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-07 05:08:52.777 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 05:08:52.799 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "RefreshToken" = @p11, "RefreshTokenExpiryTime" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-07-07 05:08:52.800 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.User.TokenResponseDTO'.
2025-07-07 05:08:52.800 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 206.5064ms
2025-07-07 05:08:52.800 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:08:52.800 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/user/login - 200 null application/json; charset=utf-8 215.0044ms
2025-07-07 05:11:15.679 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - null null
2025-07-07 05:11:15.681 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:11:15.681 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/user/login - 204 null null 2.3929ms
2025-07-07 05:11:15.683 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/user/login - application/json 69
2025-07-07 05:11:15.684 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:11:15.687 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:11:15.690 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-07-07 05:11:15.713 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-07 05:11:15.785 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-07 05:11:15.787 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-07 05:11:15.801 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "RefreshToken" = @p11, "RefreshTokenExpiryTime" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-07-07 05:11:15.801 +08:00 [INF] Executing OkObjectResult, writing value of type 'BraveHeartBackend.DTOs.User.TokenResponseDTO'.
2025-07-07 05:11:15.802 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 111.5837ms
2025-07-07 05:11:15.802 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-07-07 05:11:15.802 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/user/login - 200 null application/json; charset=utf-8 118.874ms
2025-07-07 05:11:18.512 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:11:18.512 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:11:18.512 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.5668ms
2025-07-07 05:11:18.514 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:11:18.515 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:11:18.516 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:11:18.516 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:11:18.539 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:11:18.542 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:11:18.543 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 26.2052ms
2025-07-07 05:11:18.543 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:11:18.543 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 28.7449ms
2025-07-07 05:11:56.297 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:11:56.299 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:11:56.301 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 4.0805ms
2025-07-07 05:11:56.303 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:11:56.303 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:11:56.305 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:11:56.306 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:11:56.314 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:11:56.316 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:11:56.318 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 11.3405ms
2025-07-07 05:11:56.318 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:11:56.318 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 15.4453ms
2025-07-07 05:12:18.939 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:12:18.940 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:12:18.940 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.89ms
2025-07-07 05:12:18.942 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:12:18.943 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:12:18.943 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:12:18.943 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:12:18.958 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:12:18.959 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:12:18.959 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 15.9607ms
2025-07-07 05:12:18.959 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:12:18.960 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 17.3215ms
2025-07-07 05:12:21.311 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - null null
2025-07-07 05:12:21.311 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:12:21.312 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/ProductType - 204 null null 0.6688ms
2025-07-07 05:12:21.314 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/ProductType - null null
2025-07-07 05:12:21.315 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:12:21.315 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:12:21.325 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-07-07 05:12:21.343 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-07-07 05:12:21.346 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:12:21.346 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 21.2763ms
2025-07-07 05:12:21.346 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-07-07 05:12:21.346 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/ProductType - 200 null application/json; charset=utf-8 31.932ms
2025-07-07 05:12:54.745 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:12:54.746 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:12:54.746 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 1.4055ms
2025-07-07 05:12:54.748 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:12:54.748 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:12:54.749 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:12:54.749 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:12:54.755 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:12:54.757 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:12:54.758 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 8.3485ms
2025-07-07 05:12:54.758 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:12:54.758 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 10.309ms
2025-07-07 05:13:06.689 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:13:06.690 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:13:06.690 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.7912ms
2025-07-07 05:13:06.692 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:13:06.693 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:13:06.693 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:13:06.693 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:13:06.698 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:13:06.700 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:13:06.700 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 6.8546ms
2025-07-07 05:13:06.700 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:13:06.701 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 8.3056ms
2025-07-07 05:13:26.487 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:13:26.488 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:13:26.488 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/Product/by-type - 204 null null 0.8915ms
2025-07-07 05:13:26.491 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Product/by-type - null null
2025-07-07 05:13:26.491 +08:00 [INF] CORS policy execution successful.
2025-07-07 05:13:26.492 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:13:26.492 +08:00 [INF] Route matched with {action = "GetAllByType", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAllByType() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-07-07 05:13:26.496 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."ImageUrl", p0."Name", p0."Price", p0."ProductTypeId", p0."Stock", s."Id", s."DataType", s."IsRequired", s."Name", s."ProductTypeId", s."Id0", s."ProductAttributeId", s."ProductId", s."Value"
FROM "ProductTypes" AS p
LEFT JOIN "Products" AS p0 ON p."Id" = p0."ProductTypeId"
LEFT JOIN (
    SELECT p1."Id", p1."DataType", p1."IsRequired", p1."Name", p1."ProductTypeId", p2."Id" AS "Id0", p2."ProductAttributeId", p2."ProductId", p2."Value"
    FROM "ProductAttributes" AS p1
    LEFT JOIN "ProductAttributeValues" AS p2 ON p1."Id" = p2."ProductAttributeId"
) AS s ON p."Id" = s."ProductTypeId"
ORDER BY p."Id", p0."Id", s."Id"
2025-07-07 05:13:26.497 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-07 05:13:26.497 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend) in 4.7253ms
2025-07-07 05:13:26.497 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAllByType (BraveHeartBackend)'
2025-07-07 05:13:26.497 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Product/by-type - 200 null application/json; charset=utf-8 6.6046ms
2025-07-07 05:14:06.931 +08:00 [INF] Application is shutting down...
