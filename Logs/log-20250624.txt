2025-06-24 00:00:03.267 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 64
2025-06-24 00:00:03.272 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-24 00:00:03.272 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 00:00:03.273 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 401 0 null 5.522ms
2025-06-24 00:00:09.011 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 00:00:09.011 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:00:09.012 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:00:09.032 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:00:09.105 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:00:09.106 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:00:09.106 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 94.5116ms
2025-06-24 00:00:09.106 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:00:09.107 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 95.9372ms
2025-06-24 00:00:12.178 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 64
2025-06-24 00:00:12.179 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-24 00:00:12.179 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 00:00:12.179 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 401 0 null 0.7934ms
2025-06-24 00:00:24.439 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 62
2025-06-24 00:00:24.440 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-24 00:00:24.440 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 00:00:24.440 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 401 0 null 0.7097ms
2025-06-24 00:00:31.541 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/all - text/plain 63
2025-06-24 00:00:31.542 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-24 00:00:31.542 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 00:00:31.542 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/all - 401 0 null 1.0717ms
2025-06-24 00:01:26.697 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/all - text/plain 63
2025-06-24 00:01:26.753 +08:00 [INF] Executing endpoint 'UserController.GetAllUsers (BraveHeartBackend)'
2025-06-24 00:01:26.756 +08:00 [INF] Route matched with {action = "GetAllUsers", controller = "User", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllUsers() on controller UserController (BraveHeartBackend).
2025-06-24 00:01:26.768 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."UserType"
FROM "AspNetUsers" AS a
2025-06-24 00:01:26.770 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 00:01:26.772 +08:00 [INF] Executed action UserController.GetAllUsers (BraveHeartBackend) in 15.7218ms
2025-06-24 00:01:26.772 +08:00 [INF] Executed endpoint 'UserController.GetAllUsers (BraveHeartBackend)'
2025-06-24 00:01:26.773 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/all - 200 null application/json; charset=utf-8 76.0989ms
2025-06-24 00:01:54.462 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 64
2025-06-24 00:01:54.474 +08:00 [INF] Executing endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:01:54.481 +08:00 [INF] Route matched with {action = "RegisterBusinessOwner", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterBusinessOwner(BraveHeartBackend.DTOs.User.RegisterDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:01:54.490 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityError, Microsoft.Extensions.Identity.Core, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-06-24 00:01:54.492 +08:00 [INF] Executed action UserController.RegisterBusinessOwner (BraveHeartBackend) in 10.9043ms
2025-06-24 00:01:54.492 +08:00 [INF] Executed endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:01:54.492 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 400 null application/json; charset=utf-8 29.9012ms
2025-06-24 00:02:17.092 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 63
2025-06-24 00:02:17.093 +08:00 [INF] Executing endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:02:17.093 +08:00 [INF] Route matched with {action = "RegisterBusinessOwner", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterBusinessOwner(BraveHeartBackend.DTOs.User.RegisterDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:02:17.177 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-06-24 00:02:17.254 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName", "UserType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-24 00:02:17.262 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 00:02:17.263 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 00:02:17.270 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-06-24 00:02:17.272 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 00:02:17.273 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 00:02:17.275 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 00:02:17.288 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-06-24 00:02:17.309 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?', @p17='?', @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15, "UserType" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-06-24 00:02:17.316 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-24 00:02:17.316 +08:00 [INF] Executed action UserController.RegisterBusinessOwner (BraveHeartBackend) in 222.6682ms
2025-06-24 00:02:17.316 +08:00 [INF] Executed endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:02:17.316 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 200 null text/plain; charset=utf-8 224.0567ms
2025-06-24 00:02:21.512 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/all - text/plain 63
2025-06-24 00:02:21.514 +08:00 [INF] Executing endpoint 'UserController.GetAllUsers (BraveHeartBackend)'
2025-06-24 00:02:21.514 +08:00 [INF] Route matched with {action = "GetAllUsers", controller = "User", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllUsers() on controller UserController (BraveHeartBackend).
2025-06-24 00:02:21.516 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."UserType"
FROM "AspNetUsers" AS a
2025-06-24 00:02:21.516 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 00:02:21.516 +08:00 [INF] Executed action UserController.GetAllUsers (BraveHeartBackend) in 2.4666ms
2025-06-24 00:02:21.517 +08:00 [INF] Executed endpoint 'UserController.GetAllUsers (BraveHeartBackend)'
2025-06-24 00:02:21.517 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/all - 200 null application/json; charset=utf-8 4.3128ms
2025-06-24 00:02:38.528 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 00:02:38.529 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:02:38.529 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:02:38.531 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:02:38.604 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:02:38.604 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:02:38.604 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 75.5617ms
2025-06-24 00:02:38.605 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:02:38.605 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 76.5209ms
2025-06-24 00:02:45.986 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 63
2025-06-24 00:02:45.988 +08:00 [INF] Executing endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:02:45.989 +08:00 [INF] Route matched with {action = "RegisterBusinessOwner", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterBusinessOwner(BraveHeartBackend.DTOs.User.RegisterDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:02:46.063 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-06-24 00:02:46.064 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityError, Microsoft.Extensions.Identity.Core, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-06-24 00:02:46.064 +08:00 [INF] Executed action UserController.RegisterBusinessOwner (BraveHeartBackend) in 74.8591ms
2025-06-24 00:02:46.064 +08:00 [INF] Executed endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:02:46.064 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 400 null application/json; charset=utf-8 77.6023ms
2025-06-24 00:03:05.946 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 61
2025-06-24 00:03:05.947 +08:00 [INF] Executing endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:03:05.948 +08:00 [INF] Route matched with {action = "RegisterBusinessOwner", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterBusinessOwner(BraveHeartBackend.DTOs.User.RegisterDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:03:06.023 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-06-24 00:03:06.026 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName", "UserType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-24 00:03:06.027 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 00:03:06.027 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 00:03:06.028 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 00:03:06.028 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 00:03:06.029 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-06-24 00:03:06.031 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p17='?', @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15, "UserType" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-06-24 00:03:06.031 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-24 00:03:06.032 +08:00 [INF] Executed action UserController.RegisterBusinessOwner (BraveHeartBackend) in 83.877ms
2025-06-24 00:03:06.032 +08:00 [INF] Executed endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:03:06.032 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 200 null text/plain; charset=utf-8 85.7775ms
2025-06-24 00:06:24.496 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/all - text/plain 63
2025-06-24 00:06:24.502 +08:00 [INF] Executing endpoint 'UserController.GetAllUsers (BraveHeartBackend)'
2025-06-24 00:06:24.503 +08:00 [INF] Route matched with {action = "GetAllUsers", controller = "User", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllUsers() on controller UserController (BraveHeartBackend).
2025-06-24 00:06:24.565 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."UserType"
FROM "AspNetUsers" AS a
2025-06-24 00:06:24.566 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 00:06:24.566 +08:00 [INF] Executed action UserController.GetAllUsers (BraveHeartBackend) in 63.1987ms
2025-06-24 00:06:24.566 +08:00 [INF] Executed endpoint 'UserController.GetAllUsers (BraveHeartBackend)'
2025-06-24 00:06:24.566 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/all - 200 null application/json; charset=utf-8 70.2728ms
2025-06-24 00:07:40.154 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:07:40.159 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 404 0 null 5.3081ms
2025-06-24 00:07:40.161 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5185/api/User/me, Response status code: 404
2025-06-24 00:07:51.274 +08:00 [INF] Application is shutting down...
2025-06-24 00:08:00.207 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 00:08:01.166 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 00:08:01.222 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:08:01.252 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 00:08:01.270 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 00:08:01.315 +08:00 [INF] Now listening on: http://localhost:5185
2025-06-24 00:08:01.316 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-24 00:08:01.316 +08:00 [INF] Hosting environment: Development
2025-06-24 00:08:01.316 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-06-24 00:08:08.108 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:08:08.136 +08:00 [WRN] Failed to determine the https port for redirect.
2025-06-24 00:08:08.197 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:08:08.203 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 00:08:08.247 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 00:08:08.286 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:08:08.291 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:08:08.311 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 105.3135ms
2025-06-24 00:08:08.315 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:08:08.319 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 212.7247ms
2025-06-24 00:08:21.162 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 00:08:21.167 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:08:21.182 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:08:21.220 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:08:21.288 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:08:21.300 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:08:21.301 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 118.6202ms
2025-06-24 00:08:21.301 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:08:21.301 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 138.8851ms
2025-06-24 00:08:26.721 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:08:26.729 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:08:26.729 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 00:08:26.733 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 00:08:26.736 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:08:26.736 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:08:26.737 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 7.6049ms
2025-06-24 00:08:26.737 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:08:26.737 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 16.4705ms
2025-06-24 00:14:26.433 +08:00 [INF] Application is shutting down...
2025-06-24 00:15:18.858 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-24 00:15:19.073 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-24 00:15:19.078 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-24 00:15:19.080 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-24 00:15:19.080 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-24 00:15:19.084 +08:00 [INF] Applying migration '20250623161500_removesUserTypeInUserModel'.
2025-06-24 00:15:19.099 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" DROP COLUMN "UserType";
2025-06-24 00:15:19.100 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250623161500_removesUserTypeInUserModel', '9.0.6');
2025-06-24 00:15:31.062 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 00:15:32.035 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 00:15:32.136 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:15:32.166 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 00:15:32.183 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 00:15:32.228 +08:00 [INF] Now listening on: http://localhost:5185
2025-06-24 00:15:32.229 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-24 00:15:32.229 +08:00 [INF] Hosting environment: Development
2025-06-24 00:15:32.229 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-06-24 00:15:39.456 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:15:39.492 +08:00 [WRN] Failed to determine the https port for redirect.
2025-06-24 00:15:39.550 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:15:39.558 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 00:15:39.613 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 00:15:39.652 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:15:39.657 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:15:39.678 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 117.3822ms
2025-06-24 00:15:39.682 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:15:39.686 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 231.3031ms
2025-06-24 00:16:34.352 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:16:34.364 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:16:34.365 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 00:16:34.394 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 00:16:34.397 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:16:34.398 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:16:34.399 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 33.6264ms
2025-06-24 00:16:34.399 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:16:34.399 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 47.4301ms
2025-06-24 00:17:12.908 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 64
2025-06-24 00:17:12.914 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:17:12.929 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:17:12.970 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:17:13.037 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-06-24 00:17:13.038 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 107.8171ms
2025-06-24 00:17:13.038 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:17:13.038 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 401 null text/plain; charset=utf-8 130.3807ms
2025-06-24 00:17:26.070 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 00:17:26.070 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:17:26.071 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:17:26.075 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:17:26.158 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:17:26.169 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:17:26.170 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 99.2877ms
2025-06-24 00:17:26.170 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:17:26.170 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 100.6447ms
2025-06-24 00:17:29.820 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:17:29.823 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:17:29.823 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 00:17:29.827 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 00:17:29.829 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:17:29.829 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:17:29.830 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 6.5172ms
2025-06-24 00:17:29.830 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:17:29.830 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 9.9993ms
2025-06-24 00:18:01.580 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 00:18:01.581 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:18:01.581 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:18:01.584 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:18:01.657 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:18:01.657 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:18:01.658 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 76.4065ms
2025-06-24 00:18:01.658 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:18:01.658 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 77.6559ms
2025-06-24 00:18:05.279 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:18:05.280 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:18:05.281 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 00:18:05.283 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 00:18:05.286 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:18:05.287 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:18:05.287 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 6.3372ms
2025-06-24 00:18:05.287 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:18:05.288 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 8.3908ms
2025-06-24 00:18:25.556 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 67
2025-06-24 00:18:25.559 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-24 00:18:25.562 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 00:18:25.563 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 401 0 null 6.763ms
2025-06-24 03:12:46.411 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/Product - text/plain 63
2025-06-24 03:12:46.415 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-06-24 03:12:46.426 +08:00 [INF] Route matched with {action = "GetAll", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:12:46.504 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Price", p."ProductTypeId", p."Stock", p0."Id", p0."Name"
FROM "Products" AS p
INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
2025-06-24 03:12:46.505 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BraveHeartBackend.Models.Product, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 03:12:46.514 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend) in 86.2395ms
2025-06-24 03:12:46.514 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-06-24 03:12:46.514 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/Product - 200 null application/json; charset=utf-8 103.9735ms
2025-06-24 03:26:09.606 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/ProductType - null null
2025-06-24 03:26:09.625 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'WGx_WFBXPVzLbp34637AWNXy6N01koR0b32OFDwUPAg'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-24 03:26:09.645 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'WGx_WFBXPVzLbp34637AWNXy6N01koR0b32OFDwUPAg'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-06-24 03:26:09.645 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-06-24 03:26:09.657 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 03:26:09.740 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-06-24 03:26:09.743 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 03:26:09.747 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 89.383ms
2025-06-24 03:26:09.747 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-06-24 03:26:09.747 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/ProductType - 200 null application/json; charset=utf-8 140.7385ms
2025-06-24 03:26:24.314 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - null 0
2025-06-24 03:26:24.315 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'WGx_WFBXPVzLbp34637AWNXy6N01koR0b32OFDwUPAg'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-24 03:26:24.316 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'WGx_WFBXPVzLbp34637AWNXy6N01koR0b32OFDwUPAg'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-06-24 03:26:24.317 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|BusinessOwner)
2025-06-24 03:26:24.320 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 03:26:24.320 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 401 0 null 6.447ms
2025-06-24 03:26:32.923 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 03:26:32.924 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 03:26:32.924 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 03:26:32.936 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 03:26:33.012 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 03:26:33.013 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 03:26:33.013 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 89.0132ms
2025-06-24 03:26:33.013 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 03:26:33.013 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 90.0222ms
2025-06-24 03:26:41.538 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - null 0
2025-06-24 03:26:41.539 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'WGx_WFBXPVzLbp34637AWNXy6N01koR0b32OFDwUPAg'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-24 03:26:41.540 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'WGx_WFBXPVzLbp34637AWNXy6N01koR0b32OFDwUPAg'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-06-24 03:26:41.540 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|BusinessOwner)
2025-06-24 03:26:41.540 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 03:26:41.540 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 401 0 null 1.9274ms
2025-06-24 03:26:48.445 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 03:26:48.447 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 03:26:48.447 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 03:26:48.451 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:26:48.454 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 03:26:48.454 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 03:26:48.455 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 7.3765ms
2025-06-24 03:26:48.455 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 03:26:48.455 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 9.9961ms
2025-06-24 03:27:24.945 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - null 0
2025-06-24 03:27:24.946 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|BusinessOwner)
2025-06-24 03:27:24.946 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 03:27:24.946 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 401 0 null 0.9916ms
2025-06-24 03:27:36.860 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - null 0
2025-06-24 03:27:36.861 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|BusinessOwner)
2025-06-24 03:27:36.861 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 03:27:36.861 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 401 0 null 1.3655ms
2025-06-24 03:28:04.984 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - null 0
2025-06-24 03:28:04.986 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 03:28:04.990 +08:00 [INF] Route matched with {action = "Create", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]] Create(BraveHeartBackend.DTOs.ProductType.CreateProductTypeDTO) on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 03:28:04.999 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-24 03:28:05.018 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend) in 27.253ms
2025-06-24 03:28:05.018 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 03:28:05.018 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 415 null application/problem+json; charset=utf-8 33.9259ms
2025-06-24 03:28:43.247 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - application/json 30
2025-06-24 03:28:43.248 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 03:28:43.248 +08:00 [INF] Route matched with {action = "Create", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]] Create(BraveHeartBackend.DTOs.ProductType.CreateProductTypeDTO) on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 03:28:43.342 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductTypes" ("Name")
VALUES (@p0)
RETURNING "Id";
2025-06-24 03:28:43.358 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO'.
2025-06-24 03:28:43.372 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend) in 123.6673ms
2025-06-24 03:28:43.372 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 03:28:43.372 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 201 null application/json; charset=utf-8 125.6909ms
2025-06-24 03:29:18.859 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/Product - text/plain 63
2025-06-24 03:29:18.861 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-06-24 03:29:18.861 +08:00 [INF] Route matched with {action = "GetAll", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:29:18.867 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Price", p."ProductTypeId", p."Stock", p0."Id", p0."Name"
FROM "Products" AS p
INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
2025-06-24 03:29:18.867 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BraveHeartBackend.Models.Product, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 03:29:18.868 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend) in 6.6487ms
2025-06-24 03:29:18.868 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-06-24 03:29:18.868 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/Product - 200 null application/json; charset=utf-8 9.0847ms
2025-06-24 03:29:36.519 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/ProductType - text/plain 63
2025-06-24 03:29:36.520 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-06-24 03:29:36.520 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 03:29:36.524 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-06-24 03:29:36.534 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 03:29:36.535 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 14.7693ms
2025-06-24 03:29:36.535 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-06-24 03:29:36.535 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/ProductType - 200 null application/json; charset=utf-8 16.007ms
2025-06-24 03:31:09.431 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - null 0
2025-06-24 03:31:09.432 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-24 03:31:09.433 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 03:31:09.433 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 401 0 null 1.5543ms
2025-06-24 03:31:23.498 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - null 0
2025-06-24 03:31:23.499 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:31:23.504 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:31:23.506 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-24 03:31:23.506 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 1.9518ms
2025-06-24 03:31:23.506 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:31:23.507 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 415 null application/problem+json; charset=utf-8 8.9475ms
2025-06-24 03:31:32.742 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 2
2025-06-24 03:31:32.744 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:31:32.744 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:31:32.766 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:31:32.779 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__user_Id_0
LIMIT 1
2025-06-24 03:31:32.782 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-06-24 03:31:32.785 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-24 03:31:32.786 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 41.4023ms
2025-06-24 03:31:32.786 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:31:32.786 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 403 0 null 43.891ms
2025-06-24 03:31:54.813 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 03:31:54.820 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 03:31:54.821 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 03:31:54.841 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:31:54.845 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 03:31:54.845 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 03:31:54.846 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 24.7617ms
2025-06-24 03:31:54.846 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 03:31:54.846 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 33.0454ms
2025-06-24 03:31:56.416 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 03:31:56.417 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 03:31:56.417 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 03:31:56.420 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:31:56.422 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 03:31:56.422 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 03:31:56.422 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 4.963ms
2025-06-24 03:31:56.422 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 03:31:56.422 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 6.3897ms
2025-06-24 03:32:01.061 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 03:32:01.061 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 03:32:01.062 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 03:32:01.066 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 03:32:01.143 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 03:32:01.143 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 03:32:01.144 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 81.8747ms
2025-06-24 03:32:01.144 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 03:32:01.144 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 82.8872ms
2025-06-24 03:32:05.023 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 2
2025-06-24 03:32:05.024 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:32:05.025 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:32:05.027 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:32:05.029 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__user_Id_0
LIMIT 1
2025-06-24 03:32:05.029 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-06-24 03:32:05.030 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-24 03:32:05.030 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 5.0996ms
2025-06-24 03:32:05.030 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:32:05.030 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 403 0 null 6.6725ms
2025-06-24 03:32:38.131 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 20
2025-06-24 03:32:38.132 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:32:38.133 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:32:38.137 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:32:38.138 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__user_Id_0
LIMIT 1
2025-06-24 03:32:38.138 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-06-24 03:32:38.138 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-24 03:32:38.138 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 5.7497ms
2025-06-24 03:32:38.139 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:32:38.139 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 403 0 null 7.8972ms
2025-06-24 03:32:41.949 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 36
2025-06-24 03:32:41.949 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:32:41.949 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:32:41.952 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:32:41.953 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__user_Id_0
LIMIT 1
2025-06-24 03:32:41.954 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-06-24 03:32:41.954 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-24 03:32:41.954 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 4.3778ms
2025-06-24 03:32:41.954 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:32:41.954 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 403 0 null 5.5659ms
2025-06-24 03:33:11.212 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 36
2025-06-24 03:33:11.214 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:33:11.214 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:33:11.217 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:33:11.220 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__user_Id_0
LIMIT 1
2025-06-24 03:33:11.220 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-06-24 03:33:11.220 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-24 03:33:11.221 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 6.7313ms
2025-06-24 03:33:11.221 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:33:11.221 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 403 0 null 9.3793ms
2025-06-24 03:33:47.563 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - application/json 23
2025-06-24 03:33:47.565 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 03:33:47.565 +08:00 [INF] Route matched with {action = "Create", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]] Create(BraveHeartBackend.DTOs.ProductType.CreateProductTypeDTO) on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 03:33:47.572 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductTypes" ("Name")
VALUES (@p0)
RETURNING "Id";
2025-06-24 03:33:47.574 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO'.
2025-06-24 03:33:47.575 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend) in 9.3173ms
2025-06-24 03:33:47.575 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 03:33:47.575 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 201 null application/json; charset=utf-8 11.9691ms
2025-06-24 03:34:03.813 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 03:34:03.815 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 03:34:03.815 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 03:34:03.817 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 03:34:03.890 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 03:34:03.890 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 03:34:03.891 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 75.3565ms
2025-06-24 03:34:03.891 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 03:34:03.891 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 77.294ms
2025-06-24 03:34:06.658 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - application/json 30
2025-06-24 03:34:06.659 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 03:34:06.659 +08:00 [INF] Route matched with {action = "Create", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]] Create(BraveHeartBackend.DTOs.ProductType.CreateProductTypeDTO) on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 03:34:06.663 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductTypes" ("Name")
VALUES (@p0)
RETURNING "Id";
2025-06-24 03:34:06.664 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO'.
2025-06-24 03:34:06.664 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend) in 4.3415ms
2025-06-24 03:34:06.664 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 03:34:06.664 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 201 null application/json; charset=utf-8 5.8845ms
2025-06-24 03:34:10.596 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 03:34:10.597 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 03:34:10.597 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 03:34:10.599 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:34:10.600 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 03:34:10.601 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 03:34:10.601 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 3.4959ms
2025-06-24 03:34:10.601 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 03:34:10.601 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 4.7148ms
2025-06-24 03:34:16.203 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - application/json 30
2025-06-24 03:34:16.205 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 03:34:16.205 +08:00 [INF] Route matched with {action = "Create", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]] Create(BraveHeartBackend.DTOs.ProductType.CreateProductTypeDTO) on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 03:34:16.207 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductTypes" ("Name")
VALUES (@p0)
RETURNING "Id";
2025-06-24 03:34:16.208 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO'.
2025-06-24 03:34:16.208 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend) in 3.1582ms
2025-06-24 03:34:16.208 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 03:34:16.208 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 201 null application/json; charset=utf-8 5.1786ms
2025-06-24 03:34:17.083 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - application/json 30
2025-06-24 03:34:17.084 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 03:34:17.084 +08:00 [INF] Route matched with {action = "Create", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]] Create(BraveHeartBackend.DTOs.ProductType.CreateProductTypeDTO) on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 03:34:17.088 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductTypes" ("Name")
VALUES (@p0)
RETURNING "Id";
2025-06-24 03:34:17.088 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO'.
2025-06-24 03:34:17.089 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend) in 4.1418ms
2025-06-24 03:34:17.089 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 03:34:17.089 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 201 null application/json; charset=utf-8 5.8997ms
2025-06-24 03:34:35.050 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/ProductType - application/json 30
2025-06-24 03:34:35.051 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-06-24 03:34:35.051 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 03:34:35.056 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-06-24 03:34:35.056 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 03:34:35.057 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 5.225ms
2025-06-24 03:34:35.057 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-06-24 03:34:35.057 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/ProductType - 200 null application/json; charset=utf-8 6.5614ms
2025-06-24 03:34:42.945 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 03:34:42.947 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 03:34:42.947 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 03:34:42.949 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:34:42.950 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 03:34:42.950 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 03:34:42.951 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 3.5892ms
2025-06-24 03:34:42.951 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 03:34:42.951 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 5.8672ms
2025-06-24 03:36:29.169 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 8
2025-06-24 03:36:29.172 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:36:29.172 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:36:29.176 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:36:29.177 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__user_Id_0
LIMIT 1
2025-06-24 03:36:29.177 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-06-24 03:36:29.178 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-24 03:36:29.178 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 5.5947ms
2025-06-24 03:36:29.178 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:36:29.178 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 403 0 null 8.6209ms
2025-06-24 03:38:59.012 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 26
2025-06-24 03:38:59.023 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:38:59.024 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:38:59.047 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:38:59.050 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__user_Id_0
LIMIT 1
2025-06-24 03:38:59.051 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-06-24 03:38:59.051 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-24 03:38:59.051 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 26.9851ms
2025-06-24 03:38:59.051 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:38:59.052 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 403 0 null 39.4767ms
2025-06-24 03:39:55.788 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 26
2025-06-24 03:39:55.790 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:39:55.790 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:39:55.793 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:39:55.796 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__user_Id_0
LIMIT 1
2025-06-24 03:39:55.796 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-06-24 03:39:55.796 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-24 03:39:55.797 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 6.5906ms
2025-06-24 03:39:55.797 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:39:55.797 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 403 0 null 8.5268ms
2025-06-24 03:42:36.129 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 3
2025-06-24 03:42:36.134 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:42:36.134 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:42:36.142 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:42:36.146 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__user_Id_0
LIMIT 1
2025-06-24 03:42:36.147 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-06-24 03:42:36.147 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-24 03:42:36.147 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 12.2497ms
2025-06-24 03:42:36.147 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:42:36.147 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 403 0 null 18.1725ms
2025-06-24 03:42:50.750 +08:00 [INF] Application is shutting down...
2025-06-24 03:45:47.128 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 03:45:48.123 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 03:45:48.179 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 03:45:48.208 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 03:45:48.226 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 03:45:48.269 +08:00 [INF] Now listening on: http://localhost:5185
2025-06-24 03:45:48.270 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-24 03:45:48.270 +08:00 [INF] Hosting environment: Development
2025-06-24 03:45:48.271 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-06-24 03:45:55.072 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 3
2025-06-24 03:45:55.097 +08:00 [WRN] Failed to determine the https port for redirect.
2025-06-24 03:45:55.149 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:45:55.159 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:45:55.225 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:45:55.238 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_ProductTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProductTypes" AS p
    WHERE p."Id" = @__dto_ProductTypeId_0)
2025-06-24 03:45:55.242 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-24 03:45:55.246 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 84.8254ms
2025-06-24 03:45:55.252 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:45:55.256 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 400 null text/plain; charset=utf-8 185.5914ms
2025-06-24 03:46:13.729 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 26
2025-06-24 03:46:13.737 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:46:13.738 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:46:13.765 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:46:13.779 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__dto_ProductTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProductTypes" AS p
    WHERE p."Id" = @__dto_ProductTypeId_0)
2025-06-24 03:46:13.871 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Price", "ProductTypeId", "Stock")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-06-24 03:46:13.885 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'BraveHeartBackend.Models.Product'.
2025-06-24 03:46:13.906 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 167.5568ms
2025-06-24 03:46:13.906 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:46:13.906 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 201 null application/json; charset=utf-8 177.3095ms
2025-06-24 03:47:11.527 +08:00 [INF] Application is shutting down...
2025-06-24 03:47:16.820 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 03:47:17.774 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 03:47:17.830 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 03:47:17.858 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 03:47:17.875 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 03:47:17.917 +08:00 [INF] Now listening on: http://localhost:5185
2025-06-24 03:47:17.918 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-24 03:47:17.918 +08:00 [INF] Hosting environment: Development
2025-06-24 03:47:17.918 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-06-24 03:47:25.200 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 26
2025-06-24 03:47:25.226 +08:00 [WRN] Failed to determine the https port for redirect.
2025-06-24 03:47:25.279 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:47:25.288 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:47:25.354 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:47:25.366 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_ProductTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProductTypes" AS p
    WHERE p."Id" = @__dto_ProductTypeId_0)
2025-06-24 03:47:25.451 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Price", "ProductTypeId", "Stock")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-06-24 03:47:25.469 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'BraveHeartBackend.Models.Product'.
2025-06-24 03:47:25.493 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 202.0914ms
2025-06-24 03:47:25.496 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:47:25.500 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 201 null application/json; charset=utf-8 301.5884ms
2025-06-24 03:47:38.723 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/Product - application/json 30
2025-06-24 03:47:38.738 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-06-24 03:47:38.744 +08:00 [INF] Route matched with {action = "GetAll", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:47:38.807 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Price", p."ProductTypeId", p."Stock", p0."Id", p0."Name"
FROM "Products" AS p
INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
2025-06-24 03:47:38.818 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BraveHeartBackend.Models.Product, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 03:47:38.822 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend) in 77.1977ms
2025-06-24 03:47:38.822 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-06-24 03:47:38.822 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/Product - 200 null application/json; charset=utf-8 99.161ms
2025-06-24 03:49:23.818 +08:00 [INF] Application is shutting down...
2025-06-24 03:55:18.825 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 03:55:19.820 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 03:55:19.875 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 03:55:19.904 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 03:55:19.921 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 03:55:19.966 +08:00 [INF] Now listening on: http://localhost:5185
2025-06-24 03:55:19.967 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-24 03:55:19.968 +08:00 [INF] Hosting environment: Development
2025-06-24 03:55:19.968 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-06-24 03:55:36.567 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 26
2025-06-24 03:55:36.593 +08:00 [WRN] Failed to determine the https port for redirect.
2025-06-24 03:55:36.652 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:55:36.661 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:55:36.691 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-24 03:55:36.709 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 45.8447ms
2025-06-24 03:55:36.713 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:55:36.714 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 400 null application/problem+json; charset=utf-8 149.5412ms
2025-06-24 03:55:59.478 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 44
2025-06-24 03:55:59.483 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:55:59.484 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:55:59.550 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 03:55:59.563 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_ProductTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProductTypes" AS p
    WHERE p."Id" = @__dto_ProductTypeId_0)
2025-06-24 03:55:59.652 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Price", "ProductTypeId", "Stock")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-06-24 03:55:59.668 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'BraveHeartBackend.Models.Product'.
2025-06-24 03:55:59.682 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 198.2203ms
2025-06-24 03:55:59.683 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 03:55:59.686 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 201 null application/json; charset=utf-8 208.0963ms
2025-06-24 03:56:08.317 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/Product - application/json 30
2025-06-24 03:56:08.326 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-06-24 03:56:08.332 +08:00 [INF] Route matched with {action = "GetAll", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:56:08.389 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Price", p."ProductTypeId", p."Stock", p0."Id", p0."Name"
FROM "Products" AS p
INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
2025-06-24 03:56:08.399 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BraveHeartBackend.Models.Product, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 03:56:08.400 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend) in 67.6219ms
2025-06-24 03:56:08.400 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-06-24 03:56:08.400 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/Product - 200 null application/json; charset=utf-8 82.5457ms
2025-06-24 05:02:47.671 +08:00 [ERR] An error occurred using the connection to database 'braveheartdb_jsonB' on server 'tcp://localhost:5432'.
2025-06-24 05:02:48.099 +08:00 [INF] Executed DbCommand (162ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "braveheartdb_jsonB";
2025-06-24 05:02:48.172 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-24 05:02:48.178 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-24 05:02:48.179 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-24 05:02:48.182 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-24 05:02:48.191 +08:00 [INF] Applying migration '20250620073447_InitialCreate'.
2025-06-24 05:02:48.226 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApplicationUser" (
    "Id" text NOT NULL,
    "UserName" text,
    "NormalizedUserName" text,
    "Email" text,
    "NormalizedEmail" text,
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_ApplicationUser" PRIMARY KEY ("Id")
);
2025-06-24 05:02:48.234 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductTypes" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    CONSTRAINT "PK_ProductTypes" PRIMARY KEY ("Id")
);
2025-06-24 05:02:48.238 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Carts" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_Carts" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Carts_ApplicationUser_UserId" FOREIGN KEY ("UserId") REFERENCES "ApplicationUser" ("Id") ON DELETE CASCADE
);
2025-06-24 05:02:48.242 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CheckoutDetails" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "PhoneNumber" text NOT NULL,
    "AddressLine1" text NOT NULL,
    "AddressLine2" text NOT NULL,
    "City" text NOT NULL,
    "State" text NOT NULL,
    "PostalCode" text NOT NULL,
    "Country" text NOT NULL,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_CheckoutDetails" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CheckoutDetails_ApplicationUser_UserId" FOREIGN KEY ("UserId") REFERENCES "ApplicationUser" ("Id") ON DELETE CASCADE
);
2025-06-24 05:02:48.245 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductAttributes" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "DataType" text NOT NULL,
    "ProductTypeId" integer NOT NULL,
    CONSTRAINT "PK_ProductAttributes" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductAttributes_ProductTypes_ProductTypeId" FOREIGN KEY ("ProductTypeId") REFERENCES "ProductTypes" ("Id") ON DELETE CASCADE
);
2025-06-24 05:02:48.249 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Price" numeric NOT NULL,
    "Stock" integer NOT NULL,
    "ProductTypeId" integer NOT NULL,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Products_ProductTypes_ProductTypeId" FOREIGN KEY ("ProductTypeId") REFERENCES "ProductTypes" ("Id") ON DELETE CASCADE
);
2025-06-24 05:02:48.262 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CartItems" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "CartId" integer NOT NULL,
    "ProductId" integer NOT NULL,
    "Quantity" integer NOT NULL,
    CONSTRAINT "PK_CartItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CartItems_Carts_CartId" FOREIGN KEY ("CartId") REFERENCES "Carts" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CartItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-06-24 05:02:48.266 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductAttributeValues" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Value" text NOT NULL,
    "ProductId" integer NOT NULL,
    "ProductAttributeId" integer NOT NULL,
    CONSTRAINT "PK_ProductAttributeValues" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductAttributeValues_ProductAttributes_ProductAttributeId" FOREIGN KEY ("ProductAttributeId") REFERENCES "ProductAttributes" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ProductAttributeValues_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-06-24 05:02:48.269 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_CartId" ON "CartItems" ("CartId");
2025-06-24 05:02:48.270 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_ProductId" ON "CartItems" ("ProductId");
2025-06-24 05:02:48.272 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Carts_UserId" ON "Carts" ("UserId");
2025-06-24 05:02:48.274 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CheckoutDetails_UserId" ON "CheckoutDetails" ("UserId");
2025-06-24 05:02:48.276 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributes_ProductTypeId" ON "ProductAttributes" ("ProductTypeId");
2025-06-24 05:02:48.277 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributeValues_ProductAttributeId" ON "ProductAttributeValues" ("ProductAttributeId");
2025-06-24 05:02:48.278 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributeValues_ProductId" ON "ProductAttributeValues" ("ProductId");
2025-06-24 05:02:48.279 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Products_ProductTypeId" ON "Products" ("ProductTypeId");
2025-06-24 05:02:48.280 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250620073447_InitialCreate', '9.0.6');
2025-06-24 05:02:48.280 +08:00 [INF] Applying migration '20250620164701_AddIdentityTables'.
2025-06-24 05:02:48.412 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Carts" DROP CONSTRAINT "FK_Carts_ApplicationUser_UserId";
2025-06-24 05:02:48.413 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CheckoutDetails" DROP CONSTRAINT "FK_CheckoutDetails_ApplicationUser_UserId";
2025-06-24 05:02:48.413 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ApplicationUser" DROP CONSTRAINT "PK_ApplicationUser";
2025-06-24 05:02:48.414 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ApplicationUser" RENAME TO "AspNetUsers";
2025-06-24 05:02:48.418 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ALTER COLUMN "UserName" TYPE character varying(256);
2025-06-24 05:02:48.421 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ALTER COLUMN "NormalizedUserName" TYPE character varying(256);
2025-06-24 05:02:48.423 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ALTER COLUMN "NormalizedEmail" TYPE character varying(256);
2025-06-24 05:02:48.426 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ALTER COLUMN "Email" TYPE character varying(256);
2025-06-24 05:02:48.427 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id");
2025-06-24 05:02:48.430 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-06-24 05:02:48.434 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-06-24 05:02:48.437 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" character varying(128) NOT NULL,
    "ProviderKey" character varying(128) NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-06-24 05:02:48.441 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" character varying(128) NOT NULL,
    "Name" character varying(128) NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-06-24 05:02:48.444 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-06-24 05:02:48.447 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-06-24 05:02:48.448 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-06-24 05:02:48.450 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-06-24 05:02:48.451 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-06-24 05:02:48.452 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-06-24 05:02:48.454 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-06-24 05:02:48.455 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-06-24 05:02:48.456 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-06-24 05:02:48.459 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Carts" ADD CONSTRAINT "FK_Carts_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-06-24 05:02:48.460 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CheckoutDetails" ADD CONSTRAINT "FK_CheckoutDetails_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-06-24 05:02:48.460 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250620164701_AddIdentityTables', '9.0.6');
2025-06-24 05:02:48.460 +08:00 [INF] Applying migration '20250620172930_AddUserTypeToApplicationUser'.
2025-06-24 05:02:48.474 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "UserType" text NOT NULL DEFAULT '';
2025-06-24 05:02:48.474 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250620172930_AddUserTypeToApplicationUser', '9.0.6');
2025-06-24 05:02:48.474 +08:00 [INF] Applying migration '20250621123833_integratesCartEntityIntoUserAsField'.
2025-06-24 05:02:48.485 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CartItems" DROP CONSTRAINT "FK_CartItems_Carts_CartId";
2025-06-24 05:02:48.486 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Carts";
2025-06-24 05:02:48.487 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_CartItems_CartId";
2025-06-24 05:02:48.487 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CartItems" DROP COLUMN "CartId";
2025-06-24 05:02:48.489 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CartItems" ADD "UserId" text NOT NULL DEFAULT '';
2025-06-24 05:02:48.490 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CartItems_UserId" ON "CartItems" ("UserId");
2025-06-24 05:02:48.491 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CartItems" ADD CONSTRAINT "FK_CartItems_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-06-24 05:02:48.492 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250621123833_integratesCartEntityIntoUserAsField', '9.0.6');
2025-06-24 05:02:48.492 +08:00 [INF] Applying migration '20250621183718_productRequireType'.
2025-06-24 05:02:48.501 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250621183718_productRequireType', '9.0.6');
2025-06-24 05:02:48.501 +08:00 [INF] Applying migration '20250621184902_productModelCleanup'.
2025-06-24 05:02:48.511 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250621184902_productModelCleanup', '9.0.6');
2025-06-24 05:02:48.511 +08:00 [INF] Applying migration '20250621190140_productModelCleanup2'.
2025-06-24 05:02:48.522 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250621190140_productModelCleanup2', '9.0.6');
2025-06-24 05:02:48.522 +08:00 [INF] Applying migration '20250623161500_removesUserTypeInUserModel'.
2025-06-24 05:02:48.531 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" DROP COLUMN "UserType";
2025-06-24 05:02:48.531 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250623161500_removesUserTypeInUserModel', '9.0.6');
2025-06-24 05:02:48.531 +08:00 [INF] Applying migration '20250623210240_UseJsonbForProductAttributes'.
2025-06-24 05:02:48.542 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "ProductAttributeValues";
2025-06-24 05:02:48.543 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "ProductAttributes";
2025-06-24 05:02:48.545 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ProductTypes" ADD "AttributesSchema" jsonb NOT NULL DEFAULT '{}';
2025-06-24 05:02:48.546 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Products" ADD "Attributes" jsonb NOT NULL DEFAULT '{}';
2025-06-24 05:02:48.546 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250623210240_UseJsonbForProductAttributes', '9.0.6');
