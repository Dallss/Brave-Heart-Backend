2025-06-24 00:00:03.267 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 64
2025-06-24 00:00:03.272 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-24 00:00:03.272 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 00:00:03.273 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 401 0 null 5.522ms
2025-06-24 00:00:09.011 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 00:00:09.011 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:00:09.012 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:00:09.032 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:00:09.105 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:00:09.106 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:00:09.106 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 94.5116ms
2025-06-24 00:00:09.106 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:00:09.107 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 95.9372ms
2025-06-24 00:00:12.178 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 64
2025-06-24 00:00:12.179 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-24 00:00:12.179 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 00:00:12.179 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 401 0 null 0.7934ms
2025-06-24 00:00:24.439 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 62
2025-06-24 00:00:24.440 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-24 00:00:24.440 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 00:00:24.440 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 401 0 null 0.7097ms
2025-06-24 00:00:31.541 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/all - text/plain 63
2025-06-24 00:00:31.542 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-24 00:00:31.542 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 00:00:31.542 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/all - 401 0 null 1.0717ms
2025-06-24 00:01:26.697 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/all - text/plain 63
2025-06-24 00:01:26.753 +08:00 [INF] Executing endpoint 'UserController.GetAllUsers (BraveHeartBackend)'
2025-06-24 00:01:26.756 +08:00 [INF] Route matched with {action = "GetAllUsers", controller = "User", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllUsers() on controller UserController (BraveHeartBackend).
2025-06-24 00:01:26.768 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."UserType"
FROM "AspNetUsers" AS a
2025-06-24 00:01:26.770 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 00:01:26.772 +08:00 [INF] Executed action UserController.GetAllUsers (BraveHeartBackend) in 15.7218ms
2025-06-24 00:01:26.772 +08:00 [INF] Executed endpoint 'UserController.GetAllUsers (BraveHeartBackend)'
2025-06-24 00:01:26.773 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/all - 200 null application/json; charset=utf-8 76.0989ms
2025-06-24 00:01:54.462 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 64
2025-06-24 00:01:54.474 +08:00 [INF] Executing endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:01:54.481 +08:00 [INF] Route matched with {action = "RegisterBusinessOwner", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterBusinessOwner(BraveHeartBackend.DTOs.User.RegisterDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:01:54.490 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityError, Microsoft.Extensions.Identity.Core, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-06-24 00:01:54.492 +08:00 [INF] Executed action UserController.RegisterBusinessOwner (BraveHeartBackend) in 10.9043ms
2025-06-24 00:01:54.492 +08:00 [INF] Executed endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:01:54.492 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 400 null application/json; charset=utf-8 29.9012ms
2025-06-24 00:02:17.092 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 63
2025-06-24 00:02:17.093 +08:00 [INF] Executing endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:02:17.093 +08:00 [INF] Route matched with {action = "RegisterBusinessOwner", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterBusinessOwner(BraveHeartBackend.DTOs.User.RegisterDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:02:17.177 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-06-24 00:02:17.254 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName", "UserType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-24 00:02:17.262 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 00:02:17.263 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 00:02:17.270 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-06-24 00:02:17.272 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 00:02:17.273 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 00:02:17.275 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 00:02:17.288 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-06-24 00:02:17.309 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?', @p17='?', @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15, "UserType" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-06-24 00:02:17.316 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-24 00:02:17.316 +08:00 [INF] Executed action UserController.RegisterBusinessOwner (BraveHeartBackend) in 222.6682ms
2025-06-24 00:02:17.316 +08:00 [INF] Executed endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:02:17.316 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 200 null text/plain; charset=utf-8 224.0567ms
2025-06-24 00:02:21.512 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/all - text/plain 63
2025-06-24 00:02:21.514 +08:00 [INF] Executing endpoint 'UserController.GetAllUsers (BraveHeartBackend)'
2025-06-24 00:02:21.514 +08:00 [INF] Route matched with {action = "GetAllUsers", controller = "User", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllUsers() on controller UserController (BraveHeartBackend).
2025-06-24 00:02:21.516 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."UserType"
FROM "AspNetUsers" AS a
2025-06-24 00:02:21.516 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 00:02:21.516 +08:00 [INF] Executed action UserController.GetAllUsers (BraveHeartBackend) in 2.4666ms
2025-06-24 00:02:21.517 +08:00 [INF] Executed endpoint 'UserController.GetAllUsers (BraveHeartBackend)'
2025-06-24 00:02:21.517 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/all - 200 null application/json; charset=utf-8 4.3128ms
2025-06-24 00:02:38.528 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 00:02:38.529 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:02:38.529 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:02:38.531 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:02:38.604 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:02:38.604 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:02:38.604 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 75.5617ms
2025-06-24 00:02:38.605 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:02:38.605 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 76.5209ms
2025-06-24 00:02:45.986 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 63
2025-06-24 00:02:45.988 +08:00 [INF] Executing endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:02:45.989 +08:00 [INF] Route matched with {action = "RegisterBusinessOwner", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterBusinessOwner(BraveHeartBackend.DTOs.User.RegisterDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:02:46.063 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-06-24 00:02:46.064 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityError, Microsoft.Extensions.Identity.Core, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-06-24 00:02:46.064 +08:00 [INF] Executed action UserController.RegisterBusinessOwner (BraveHeartBackend) in 74.8591ms
2025-06-24 00:02:46.064 +08:00 [INF] Executed endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:02:46.064 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 400 null application/json; charset=utf-8 77.6023ms
2025-06-24 00:03:05.946 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 61
2025-06-24 00:03:05.947 +08:00 [INF] Executing endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:03:05.948 +08:00 [INF] Route matched with {action = "RegisterBusinessOwner", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterBusinessOwner(BraveHeartBackend.DTOs.User.RegisterDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:03:06.023 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-06-24 00:03:06.026 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName", "UserType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-24 00:03:06.027 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 00:03:06.027 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 00:03:06.028 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 00:03:06.028 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 00:03:06.029 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-06-24 00:03:06.031 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p17='?', @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15, "UserType" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-06-24 00:03:06.031 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-24 00:03:06.032 +08:00 [INF] Executed action UserController.RegisterBusinessOwner (BraveHeartBackend) in 83.877ms
2025-06-24 00:03:06.032 +08:00 [INF] Executed endpoint 'UserController.RegisterBusinessOwner (BraveHeartBackend)'
2025-06-24 00:03:06.032 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 200 null text/plain; charset=utf-8 85.7775ms
2025-06-24 00:06:24.496 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/all - text/plain 63
2025-06-24 00:06:24.502 +08:00 [INF] Executing endpoint 'UserController.GetAllUsers (BraveHeartBackend)'
2025-06-24 00:06:24.503 +08:00 [INF] Route matched with {action = "GetAllUsers", controller = "User", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllUsers() on controller UserController (BraveHeartBackend).
2025-06-24 00:06:24.565 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."UserType"
FROM "AspNetUsers" AS a
2025-06-24 00:06:24.566 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 00:06:24.566 +08:00 [INF] Executed action UserController.GetAllUsers (BraveHeartBackend) in 63.1987ms
2025-06-24 00:06:24.566 +08:00 [INF] Executed endpoint 'UserController.GetAllUsers (BraveHeartBackend)'
2025-06-24 00:06:24.566 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/all - 200 null application/json; charset=utf-8 70.2728ms
2025-06-24 00:07:40.154 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:07:40.159 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 404 0 null 5.3081ms
2025-06-24 00:07:40.161 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5185/api/User/me, Response status code: 404
2025-06-24 00:07:51.274 +08:00 [INF] Application is shutting down...
2025-06-24 00:08:00.207 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 00:08:01.166 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 00:08:01.222 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:08:01.252 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 00:08:01.270 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 00:08:01.315 +08:00 [INF] Now listening on: http://localhost:5185
2025-06-24 00:08:01.316 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-24 00:08:01.316 +08:00 [INF] Hosting environment: Development
2025-06-24 00:08:01.316 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-06-24 00:08:08.108 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:08:08.136 +08:00 [WRN] Failed to determine the https port for redirect.
2025-06-24 00:08:08.197 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:08:08.203 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 00:08:08.247 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 00:08:08.286 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:08:08.291 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:08:08.311 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 105.3135ms
2025-06-24 00:08:08.315 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:08:08.319 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 212.7247ms
2025-06-24 00:08:21.162 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 00:08:21.167 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:08:21.182 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:08:21.220 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:08:21.288 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:08:21.300 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:08:21.301 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 118.6202ms
2025-06-24 00:08:21.301 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:08:21.301 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 138.8851ms
2025-06-24 00:08:26.721 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:08:26.729 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:08:26.729 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 00:08:26.733 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."UserType"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 00:08:26.736 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:08:26.736 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:08:26.737 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 7.6049ms
2025-06-24 00:08:26.737 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:08:26.737 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 16.4705ms
2025-06-24 00:14:26.433 +08:00 [INF] Application is shutting down...
2025-06-24 00:15:18.858 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-24 00:15:19.073 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-24 00:15:19.078 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-24 00:15:19.080 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-24 00:15:19.080 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-24 00:15:19.084 +08:00 [INF] Applying migration '20250623161500_removesUserTypeInUserModel'.
2025-06-24 00:15:19.099 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" DROP COLUMN "UserType";
2025-06-24 00:15:19.100 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250623161500_removesUserTypeInUserModel', '9.0.6');
2025-06-24 00:15:31.062 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 00:15:32.035 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 00:15:32.136 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:15:32.166 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 00:15:32.183 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 00:15:32.228 +08:00 [INF] Now listening on: http://localhost:5185
2025-06-24 00:15:32.229 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-24 00:15:32.229 +08:00 [INF] Hosting environment: Development
2025-06-24 00:15:32.229 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-06-24 00:15:39.456 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:15:39.492 +08:00 [WRN] Failed to determine the https port for redirect.
2025-06-24 00:15:39.550 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:15:39.558 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 00:15:39.613 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 00:15:39.652 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:15:39.657 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:15:39.678 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 117.3822ms
2025-06-24 00:15:39.682 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:15:39.686 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 231.3031ms
2025-06-24 00:16:34.352 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:16:34.364 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:16:34.365 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 00:16:34.394 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 00:16:34.397 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:16:34.398 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:16:34.399 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 33.6264ms
2025-06-24 00:16:34.399 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:16:34.399 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 47.4301ms
2025-06-24 00:17:12.908 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 64
2025-06-24 00:17:12.914 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:17:12.929 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:17:12.970 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:17:13.037 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-06-24 00:17:13.038 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 107.8171ms
2025-06-24 00:17:13.038 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:17:13.038 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 401 null text/plain; charset=utf-8 130.3807ms
2025-06-24 00:17:26.070 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 00:17:26.070 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:17:26.071 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:17:26.075 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:17:26.158 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:17:26.169 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:17:26.170 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 99.2877ms
2025-06-24 00:17:26.170 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:17:26.170 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 100.6447ms
2025-06-24 00:17:29.820 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:17:29.823 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:17:29.823 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 00:17:29.827 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 00:17:29.829 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:17:29.829 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:17:29.830 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 6.5172ms
2025-06-24 00:17:29.830 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:17:29.830 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 9.9993ms
2025-06-24 00:18:01.580 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 00:18:01.581 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:18:01.581 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 00:18:01.584 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 00:18:01.657 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:18:01.657 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:18:01.658 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 76.4065ms
2025-06-24 00:18:01.658 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 00:18:01.658 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 77.6559ms
2025-06-24 00:18:05.279 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/User/me - text/plain 63
2025-06-24 00:18:05.280 +08:00 [INF] Executing endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:18:05.281 +08:00 [INF] Route matched with {action = "GetCurrentUser", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller UserController (BraveHeartBackend).
2025-06-24 00:18:05.283 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 00:18:05.286 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 00:18:05.287 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 00:18:05.287 +08:00 [INF] Executed action UserController.GetCurrentUser (BraveHeartBackend) in 6.3372ms
2025-06-24 00:18:05.287 +08:00 [INF] Executed endpoint 'UserController.GetCurrentUser (BraveHeartBackend)'
2025-06-24 00:18:05.288 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/User/me - 200 null application/json; charset=utf-8 8.3908ms
2025-06-24 00:18:25.556 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - application/json 67
2025-06-24 00:18:25.559 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-24 00:18:25.562 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-24 00:18:25.563 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/register-business-owner - 401 0 null 6.763ms
2025-06-24 03:12:46.411 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/Product - text/plain 63
2025-06-24 03:12:46.415 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-06-24 03:12:46.426 +08:00 [INF] Route matched with {action = "GetAll", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 03:12:46.504 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Price", p."ProductTypeId", p."Stock", p0."Id", p0."Name"
FROM "Products" AS p
INNER JOIN "ProductTypes" AS p0 ON p."ProductTypeId" = p0."Id"
2025-06-24 03:12:46.505 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BraveHeartBackend.Models.Product, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 03:12:46.514 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend) in 86.2395ms
2025-06-24 03:12:46.514 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.GetAll (BraveHeartBackend)'
2025-06-24 03:12:46.514 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/Product - 200 null application/json; charset=utf-8 103.9735ms
2025-06-24 05:17:00.253 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 05:17:01.713 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 05:17:01.770 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 05:17:01.802 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 05:17:01.833 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 05:17:01.892 +08:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5185: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-06-24 05:18:23.211 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 05:18:24.168 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 05:18:24.224 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 05:18:24.253 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 05:18:24.271 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 05:18:24.315 +08:00 [INF] Now listening on: http://localhost:5185
2025-06-24 05:18:24.316 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-24 05:18:24.316 +08:00 [INF] Hosting environment: Development
2025-06-24 05:18:24.316 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-06-24 05:18:42.788 +08:00 [INF] Application is shutting down...
2025-06-24 05:29:56.697 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 05:29:57.701 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 05:29:57.759 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 05:29:57.792 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 05:29:57.822 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 05:29:57.869 +08:00 [INF] Now listening on: http://localhost:5185
2025-06-24 05:29:57.870 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-24 05:29:57.871 +08:00 [INF] Hosting environment: Development
2025-06-24 05:29:57.871 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-06-24 05:30:00.495 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 58
2025-06-24 05:30:00.523 +08:00 [WRN] Failed to determine the https port for redirect.
2025-06-24 05:30:00.542 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 05:30:00.552 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 05:30:00.618 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 05:30:00.622 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-06-24 05:30:00.626 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 72.3102ms
2025-06-24 05:30:00.630 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 05:30:00.635 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 401 null text/plain; charset=utf-8 141.3622ms
2025-06-24 05:30:09.540 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 58
2025-06-24 05:30:09.545 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 05:30:09.546 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 05:30:09.567 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 05:30:09.569 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-06-24 05:30:09.570 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 23.1922ms
2025-06-24 05:30:09.570 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 05:30:09.571 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 401 null text/plain; charset=utf-8 30.7867ms
2025-06-24 05:30:32.212 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 58
2025-06-24 05:30:32.216 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 05:30:32.216 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 05:30:32.221 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 05:30:32.221 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-06-24 05:30:32.221 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 4.4723ms
2025-06-24 05:30:32.221 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 05:30:32.221 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 401 null text/plain; charset=utf-8 9.9927ms
2025-06-24 05:31:18.647 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - text/plain 58
2025-06-24 05:31:18.650 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 05:31:18.650 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 05:31:18.655 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-24 05:31:18.675 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 25.1826ms
2025-06-24 05:31:18.676 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 05:31:18.676 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 415 null application/problem+json; charset=utf-8 28.7787ms
2025-06-24 05:31:36.389 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 58
2025-06-24 05:31:36.391 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 05:31:36.391 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 05:31:36.404 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 05:31:36.405 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-06-24 05:31:36.405 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 13.9732ms
2025-06-24 05:31:36.405 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 05:31:36.405 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 401 null text/plain; charset=utf-8 16.1995ms
2025-06-24 05:31:49.946 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/User/login - application/json 63
2025-06-24 05:31:49.948 +08:00 [INF] Executing endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 05:31:49.948 +08:00 [INF] Route matched with {action = "Login", controller = "User", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BraveHeartBackend.DTOs.User.LoginDTO) on controller UserController (BraveHeartBackend).
2025-06-24 05:31:49.951 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 05:31:50.067 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-24 05:31:50.087 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-24 05:31:50.090 +08:00 [INF] Executed action UserController.Login (BraveHeartBackend) in 142.0381ms
2025-06-24 05:31:50.090 +08:00 [INF] Executed endpoint 'UserController.Login (BraveHeartBackend)'
2025-06-24 05:31:50.090 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/User/login - 200 null application/json; charset=utf-8 144.0527ms
2025-06-24 05:33:43.834 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductTy - application/json 315
2025-06-24 05:33:43.868 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductTy - 404 0 null 33.9293ms
2025-06-24 05:33:43.869 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5185/api/ProductTy, Response status code: 404
2025-06-24 05:33:47.562 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - application/json 315
2025-06-24 05:33:47.569 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 05:33:47.574 +08:00 [INF] Route matched with {action = "Create", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]] Create(BraveHeartBackend.DTOs.ProductType.CreateProductTypeDTO) on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 05:33:47.686 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductTypes" ("Name")
VALUES (@p0)
RETURNING "Id";
2025-06-24 05:33:47.705 +08:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = Int32), @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductAttributes" ("DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (@p1, @p2, @p3, @p4)
RETURNING "Id";
INSERT INTO "ProductAttributes" ("DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (@p5, @p6, @p7, @p8)
RETURNING "Id";
INSERT INTO "ProductAttributes" ("DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (@p9, @p10, @p11, @p12)
RETURNING "Id";
2025-06-24 05:33:47.729 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'BraveHeartBackend.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42703: column "IsRequired" of relation "ProductAttributes" does not exist

POSITION: 46
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "IsRequired" of relation "ProductAttributes" does not exist
    Position: 46
    File: parse_target.c
    Line: 1071
    Routine: checkInsertTargets
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42703: column "IsRequired" of relation "ProductAttributes" does not exist

POSITION: 46
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "IsRequired" of relation "ProductAttributes" does not exist
    Position: 46
    File: parse_target.c
    Line: 1071
    Routine: checkInsertTargets
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-24 05:33:47.732 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend) in 157.1278ms
2025-06-24 05:33:47.732 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 05:33:47.732 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42703: column "IsRequired" of relation "ProductAttributes" does not exist

POSITION: 46
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "IsRequired" of relation "ProductAttributes" does not exist
    Position: 46
    File: parse_target.c
    Line: 1071
    Routine: checkInsertTargets
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BraveHeartBackend.Controllers.ProductTypeController.Create(CreateProductTypeDTO dto) in /Users/dallsszz/BraveHeartBackend/Controllers/ProductTypeController.cs:line 84
   at lambda_method224(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-24 05:33:47.744 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 500 null text/plain; charset=utf-8 182.56ms
2025-06-24 05:33:57.764 +08:00 [INF] Application is shutting down...
2025-06-24 05:34:42.182 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-24 05:34:42.426 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-24 05:34:42.432 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-24 05:34:42.433 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-24 05:34:42.434 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-24 05:34:42.439 +08:00 [INF] Applying migration '20250623213424_addsIsRequireedForAttributes'.
2025-06-24 05:34:42.453 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ProductAttributes" ADD "IsRequired" boolean NOT NULL DEFAULT FALSE;
2025-06-24 05:34:42.454 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250623213424_addsIsRequireedForAttributes', '9.0.6');
2025-06-24 05:35:01.952 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 05:35:02.952 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 05:35:03.009 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 05:35:03.039 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 05:35:03.057 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 05:35:03.105 +08:00 [INF] Now listening on: http://localhost:5185
2025-06-24 05:35:03.106 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-24 05:35:03.106 +08:00 [INF] Hosting environment: Development
2025-06-24 05:35:03.106 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-06-24 05:35:07.542 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - application/json 315
2025-06-24 05:35:07.569 +08:00 [WRN] Failed to determine the https port for redirect.
2025-06-24 05:35:07.628 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 05:35:07.639 +08:00 [INF] Route matched with {action = "Create", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]] Create(BraveHeartBackend.DTOs.ProductType.CreateProductTypeDTO) on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 05:35:07.800 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductTypes" ("Name")
VALUES (@p0)
RETURNING "Id";
2025-06-24 05:35:07.819 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = Int32), @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductAttributes" ("DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (@p1, @p2, @p3, @p4)
RETURNING "Id";
INSERT INTO "ProductAttributes" ("DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (@p5, @p6, @p7, @p8)
RETURNING "Id";
INSERT INTO "ProductAttributes" ("DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (@p9, @p10, @p11, @p12)
RETURNING "Id";
2025-06-24 05:35:07.836 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO'.
2025-06-24 05:35:07.855 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend) in 213.4593ms
2025-06-24 05:35:07.860 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 05:35:07.864 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 201 null application/json; charset=utf-8 323.6827ms
2025-06-24 05:35:15.538 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/ProductType - application/json 315
2025-06-24 05:35:15.547 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-06-24 05:35:15.551 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 05:35:15.627 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-06-24 05:35:15.632 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 05:35:15.636 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 84.5862ms
2025-06-24 05:35:15.636 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-06-24 05:35:15.637 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/ProductType - 200 null application/json; charset=utf-8 99.2101ms
2025-06-24 05:36:09.517 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 44
2025-06-24 05:36:09.526 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 05:36:09.529 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 05:36:09.541 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-24 05:36:09.555 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 25.1701ms
2025-06-24 05:36:09.555 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 05:36:09.556 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 400 null application/problem+json; charset=utf-8 39.1408ms
2025-06-24 05:36:40.924 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 71
2025-06-24 05:36:40.927 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 05:36:40.928 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 05:36:40.951 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 05:36:40.959 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__user_Id_0
LIMIT 1
2025-06-24 05:36:40.960 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-06-24 05:36:40.962 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-24 05:36:40.962 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 33.9429ms
2025-06-24 05:36:40.962 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 05:36:40.962 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 403 0 null 37.8902ms
2025-06-24 05:36:46.074 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 71
2025-06-24 05:36:46.074 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 05:36:46.075 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 05:36:46.081 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 05:36:46.084 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__user_Id_0
LIMIT 1
2025-06-24 05:36:46.084 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-06-24 05:36:46.084 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-24 05:36:46.084 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 9.7771ms
2025-06-24 05:36:46.085 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 05:36:46.085 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 403 0 null 11.2547ms
2025-06-24 05:38:43.572 +08:00 [INF] Application is shutting down...
2025-06-24 05:38:49.230 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 05:38:50.387 +08:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 05:38:50.455 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 05:38:50.489 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 05:38:50.510 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 05:38:50.559 +08:00 [INF] Now listening on: http://localhost:5185
2025-06-24 05:38:50.561 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-24 05:38:50.561 +08:00 [INF] Hosting environment: Development
2025-06-24 05:38:50.561 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-06-24 05:38:53.789 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 71
2025-06-24 05:38:53.816 +08:00 [WRN] Failed to determine the https port for redirect.
2025-06-24 05:38:53.876 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 05:38:53.886 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 05:38:53.965 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 05:38:53.980 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_ProductTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProductTypes" AS p
    WHERE p."Id" = @__dto_ProductTypeId_0)
2025-06-24 05:38:53.989 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_ProductTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DataType", p."IsRequired", p."Name", p."ProductTypeId"
FROM "ProductAttributes" AS p
WHERE p."ProductTypeId" = @__dto_ProductTypeId_0 AND p."IsRequired"
2025-06-24 05:38:54.078 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Price", "ProductTypeId", "Stock")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-06-24 05:38:54.098 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'BraveHeartBackend.Models.Product'.
2025-06-24 05:38:54.119 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 228.977ms
2025-06-24 05:38:54.123 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 05:38:54.128 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 201 null application/json; charset=utf-8 340.0704ms
2025-06-24 05:41:08.308 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/ProductType - application/json 315
2025-06-24 05:41:08.320 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-06-24 05:41:08.325 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 05:41:08.406 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-06-24 05:41:08.425 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDTO, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 05:41:08.428 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 103.4553ms
2025-06-24 05:41:08.428 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-06-24 05:41:08.429 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/ProductType - 200 null application/json; charset=utf-8 121.2992ms
2025-06-24 05:41:13.455 +08:00 [INF] Application is shutting down...
2025-06-24 05:52:27.380 +08:00 [INF] User profile is available. Using '/Users/dallsszz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-24 05:52:28.531 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-06-24 05:52:28.588 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-24 05:52:28.630 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-06-24 05:52:28.649 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-06-24 05:52:28.698 +08:00 [INF] Now listening on: http://localhost:5185
2025-06-24 05:52:28.699 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-24 05:52:28.699 +08:00 [INF] Hosting environment: Development
2025-06-24 05:52:28.699 +08:00 [INF] Content root path: /Users/dallsszz/BraveHeartBackend
2025-06-24 05:52:34.559 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5185/api/ProductType - application/json 315
2025-06-24 05:52:34.589 +08:00 [WRN] Failed to determine the https port for redirect.
2025-06-24 05:52:34.644 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-06-24 05:52:34.651 +08:00 [INF] Route matched with {action = "GetAll", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]]] GetAll() on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 05:52:34.748 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p0."Id", p0."DataType", p0."IsRequired", p0."Name", p0."ProductTypeId"
FROM "ProductTypes" AS p
LEFT JOIN "ProductAttributes" AS p0 ON p."Id" = p0."ProductTypeId"
ORDER BY p."Id"
2025-06-24 05:52:34.777 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[BraveHeartBackend.Models.ProductType, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto, BraveHeartBackend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-24 05:52:34.800 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend) in 146.5809ms
2025-06-24 05:52:34.804 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.GetAll (BraveHeartBackend)'
2025-06-24 05:52:34.809 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5185/api/ProductType - 200 null application/json; charset=utf-8 251.2761ms
2025-06-24 05:52:51.248 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/ProductType - application/json 317
2025-06-24 05:52:51.257 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 05:52:51.267 +08:00 [INF] Route matched with {action = "Create", controller = "ProductType", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto]] Create(BraveHeartBackend.DTOs.ProductType.CreateProductTypeDTO) on controller BraveHeartBackend.Controllers.ProductTypeController (BraveHeartBackend).
2025-06-24 05:52:51.399 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductTypes" ("Name")
VALUES (@p0)
RETURNING "Id";
2025-06-24 05:52:51.415 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = Int32), @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductAttributes" ("DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (@p1, @p2, @p3, @p4)
RETURNING "Id";
INSERT INTO "ProductAttributes" ("DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (@p5, @p6, @p7, @p8)
RETURNING "Id";
INSERT INTO "ProductAttributes" ("DataType", "IsRequired", "Name", "ProductTypeId")
VALUES (@p9, @p10, @p11, @p12)
RETURNING "Id";
2025-06-24 05:52:51.429 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'BraveHeartBackend.DTOs.ProductType.ProductTypeResponseDto'.
2025-06-24 05:52:51.442 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend) in 174.2344ms
2025-06-24 05:52:51.442 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductTypeController.Create (BraveHeartBackend)'
2025-06-24 05:52:51.442 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/ProductType - 201 null application/json; charset=utf-8 194.6567ms
2025-06-24 05:53:06.249 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5185/api/Product - application/json 71
2025-06-24 05:53:06.254 +08:00 [INF] Executing endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 05:53:06.258 +08:00 [INF] Route matched with {action = "Create", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BraveHeartBackend.DTOs.Product.ProductCreateDTO) on controller BraveHeartBackend.Controllers.ProductController (BraveHeartBackend).
2025-06-24 05:53:06.286 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-06-24 05:53:06.297 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_ProductTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProductTypes" AS p
    WHERE p."Id" = @__dto_ProductTypeId_0)
2025-06-24 05:53:06.304 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_ProductTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DataType", p."IsRequired", p."Name", p."ProductTypeId"
FROM "ProductAttributes" AS p
WHERE p."ProductTypeId" = @__dto_ProductTypeId_0 AND p."IsRequired"
2025-06-24 05:53:06.305 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-24 05:53:06.306 +08:00 [INF] Executed action BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend) in 47.7839ms
2025-06-24 05:53:06.306 +08:00 [INF] Executed endpoint 'BraveHeartBackend.Controllers.ProductController.Create (BraveHeartBackend)'
2025-06-24 05:53:06.307 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5185/api/Product - 400 null text/plain; charset=utf-8 58.0387ms
2025-06-24 05:53:15.741 +08:00 [INF] Application is shutting down...
